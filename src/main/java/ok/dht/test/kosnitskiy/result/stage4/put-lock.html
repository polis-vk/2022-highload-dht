<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<style>
	body {margin: 0; padding: 4px 8px 24px; background-color: #ffffff; overflow-y: scroll}
    h1 {margin: 5px 0 0 0; font-size: 18px; font-weight: normal; text-align: center}
	header {margin: -24px 0 5px 0; line-height: 24px}
	button {font: 12px sans-serif; cursor: pointer}
	p {margin: 5px 0 5px 0}
	a {color: #0366d6}
	#hl {position: absolute; display: none; overflow: hidden; white-space: nowrap; pointer-events: none; background-color: #ffffe0; outline: 1px solid #ffc000; height: 15px}
	#hl span {padding: 0 3px 0 3px}
	#status {overflow: hidden; white-space: nowrap}
	#match {overflow: hidden; white-space: nowrap; display: none; float: right; text-align: right}
	#reset {cursor: pointer}
	#canvas {width: 100%; height: 300px}

    .selectionPart {position: absolute; display: none; pointer-events: none; box-sizing: border-box;}
    .sel {background-color: #dada0040}
    .act {background-color: #00da0040}
    .dif {background-color: #00dada40}
    .top {border-top: .1px solid #000}
    .left {border-left: .1px solid #000}
    .bottom {border-bottom: .1px solid #000}
    .right {border-right: .1px solid #000}

    #info-tooltip {display: none; position: absolute; top: 100px; right: 32px; width: 204px; border: 1px solid #666666; background: #ffffe0; border-radius: 8px; padding: 4px}
    #heatmap-height-line, #heatmap-info { text-decoration: #0366d6 dashed underline; cursor: pointer; font-family: monospace}
    #heatmap-info {cursor: help}
    #heatmap-info:hover + #info-tooltip {display: block}

    .colortip {width: 100px; box-sizing: border-box; padding: 4px; background: linear-gradient(var(--c1), var(--c2))}


</style>
</head>
<body style='font: 12px Verdana, sans-serif'>


<div style="display: flex">
    <div style="width: 20px; margin-right: 2px; float: left; writing-mode: vertical-rl; transform: scale(-1); text-align: center; user-select: none"><pre id="heatmap-height-line"> 1 sec : 20 ms </pre></div>

    <div id='heatmap-canvas-container' style="width: 100%; position: relative" autofocus>
        <div id='heatmap-canvas-wrapper' style='overflow: hidden; width: 100%'>
            <canvas id='heatmap-canvas' style='height: 314px'></canvas>
        </div>

        <div id='middleActive' class='selectionPart top bottom act'><span></span></div>
        <div id='leftActive' class='selectionPart top left bottom act'><span></span></div>
        <div id='rightActive' class='selectionPart top right bottom act'><span></span></div>
        <div id='leftMiddleActive' class='selectionPart right'><span></span></div>
        <div id='rightMiddleActive' class='selectionPart left'><span></span></div>

        <div id='middleSelection' class='selectionPart top bottom sel'><span></span></div>
        <div id='leftSelection' class='selectionPart top left bottom sel'><span></span></div>
        <div id='rightSelection' class='selectionPart top right bottom sel'><span></span></div>
        <div id='leftMiddleSelection' class='selectionPart right'><span></span></div>
        <div id='rightMiddleSelection' class='selectionPart left'><span></span></div>

        <div id='middleDiff' class='selectionPart top bottom dif'><span></span></div>
        <div id='leftDiff' class='selectionPart top left bottom dif'><span></span></div>
        <div id='rightDiff' class='selectionPart top right bottom dif'><span></span></div>
        <div id='leftMiddleDiff' class='selectionPart right'><span></span></div>
        <div id='rightMiddleDiff' class='selectionPart left'><span></span></div>
    </div>

    <div id="heatmap-info" style="width: 20px; margin-right: 2px; writing-mode: vertical-rl; text-align: center; user-select: none">
        <pre> Info </pre>
    </div>
    <div id="info-tooltip">
        <div style="float:left">
            <div style="padding: 4px;">Frame types:</div>
            <div class="colortip" style="--c1:#b2e1b2;--c2:#c6f5c6">Interpreted</div>
            <div class="colortip" style="--c1:#50e150;--c2:#6eff6e">JIT-Compiled</div>
            <div class="colortip" style="--c1:#50cccc;--c2:#6eeaea">Inlined</div>
            <div class="colortip" style="--c1:#e15a5a;--c2:#ff8282">Native</div>
            <div class="colortip" style="--c1:#c8c83c;--c2:#e6e646">C++</div>
            <div class="colortip" style="--c1:#e17d00;--c2:#ff9b00">Kernel</div>
            <div class="colortip" style="--c1:#cce880;--c2:#e0fc94">C1-Compiled</div>
        </div>
        <div style="float:left; margin-left: 4px">
            <div style="padding: 4px;">Special colors:</div>
            <div class="colortip" style="--c1:#ee00ee;--c2:#ee00ee">Matches regexp</div>
            <div class="colortip" style="--c1:#baa551;--c2:#baa551">New frames</div>
            <div class="colortip" style="--c1:#f0f0c0;--c2:#f0f0c0">Same frames</div>
            <div class="colortip" style="--c1:#99aaff;--c2:#99aaff">Less frames</div>
            <div class="colortip" style="--c1:#ffaa99;--c2:#ffaa99">More frames</div>
        </div>
        <div style="float:left; margin-top: 4px; width: 100%; border: 1px solid #666666; border-radius: 2px; padding: 2px; box-sizing: border-box;">
            Shift + Click - Select range<br>
            Ctrl + Click - Compare<br>
            Ctrl + F - Search<br>
        </div>
    </div>
</div>
<div id="executionsHeatmap" style="display:none">BJyHAs@{C_EkEoFzGdHeHsHamJ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????K\KR?hAEGFSJ?GG?WOG@??A?HO?????@??A?W??OO?O????A?????@@@?G???@???@O???????COL^M`pMM]`@?????????`???????????????????????@IDH?@?EKKINHBACGG???Wx@??GCSGAHMJIh`xFGA@hCJ???WOSUp}KULODOIX?qqjqLIJqYhsLppsI`aQjrB@GG?CptVLhrVp}Nx{I?G???a????????UGrbblGqpaNUpqkKV`alL`xGyz?CL`cUW{M`jqdLalHquNLayhtHuL^L^W?h`EaSSieLpcJFqcNPAx}^hmNhCyadM`lKhx[^XjK`{LhE^UShb{GtJtNMhFhV\V\\h@dKanL`{Lhjj{NpiEWeMh`~NxtLKppcL^]aeMRtKpfM^prqXs\ZsThq|V`fLaD`yjsVa?~Lx|G?lMUpj]\`jx{GadK`h{I?DXU`zrLTiasNizvNasKVUxxlLxkGkNUpaUW??EKR|NGah|MJqB@BaCOqDO?iOGC`GhpCGiiDJqWyyF]O\O?E`C]hdKhfL]ThkM\N`{KWcKhlG?ihxxFKSVTVThjbqzqyxMTG[SVKMhOCOiz~K`xdLqeNKKh{LSVThcLSpdMTOrxiD`M^Shxy`{LT`sG?BxO?NK]Oa^SVMGKL]MG?jcUS`akKTTT[U`sLxkM`Hh`kLOaxyiydMOELKxuMXq?a?????kLNGh@???CS\SZ??x\h}G????????G??????????????????B????????????W???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????B?FG`@????A??A??Gi????hDLG??@?x???B?Dpx??@???????G?EO???O??????FX????@???????@?Gy??G??q??O??CWyCO?Fha@B??xa?O??xi????A?G???G?@?EG???W??@??@??????@Ap??DQDP?`??W@?rCO???`@cI??DOqG?CWNW@i??@???CG?a?O@`G??VJC`[G?`W?H?F]O?CH?GAq??O???WGCO??pp???????AFOCOGp??EO@W???A??B?????xB?IASqB`G?CRyaH????q?WFRC`@??????????A???yaz??O??????UO??qADJ??@??cJ?UR?????????G???`?????E[G?????a?????????]GWG?DGN`?pOG????DG????qz?@?G??@?????Wa?`???EG?A?@qG?????y?ifLMUhqdMVhaG?????????????@A?xW?@sMGCTG???EG@?`??EJG???W?FGG?B?A`???EMSp??j?a?r????J??@??????EGLT\QByA???GP??`?AqP?a????aULUO?DO???]P?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????A?????????O?AB?q????G????DG???lGZ?B????US`p@FG?GAO???x?pfG??F]`p?OO?GnINWj??FGFO`?hFxFG?@pCOBG??bA?P?W?CUG??CO?pNOWLWx???WGz????`DVG?O@?B??FVODG??hFLZi??A?O?G??BCW?EGDOG@G?????xa??ESWjsMSGJ??yxx??r?D\O??@???p????yL`r?EG??????CGDSGEO@?rq?By??{M`?NIlMh?x?hWz???qG?yaEOWW?q??yW?MGOyHH????FSG?OtI???[x??CH?EKG?jxFOaChSG`?ii????????xq?yENNTThuNNhxp?@?LG??j~Jh?yADTOG@?CGFG??NG??GFI?Gpxrjap@?yDOEWtGCVO??O?EY?uGxObh??x?FO[RA?ahA????CMP??tLWjyz{H@[^O??EO?BDOFGB??FQ???O???@ACTW??DNhjzixq`CxcVhy|LG?biA??JxqW?GFOW??A@??i?DGD`????b{H?Pyj?G?pkLG??yx{NTGi?`xpTG?yDO?Gqi`?WB??????FKXz{GpEI????P??CT[KG????DTOlJ?SO?CQO?EHxKGN`jjqVTZNOsGLhFxy?DGCpeI?sJGEOCR???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????@ODY????y?AAb[[`lL`pDh????i????`ih?MhaLOBeN^W?I?x??@?a@CW?q?hh???@@?FG?@qp???DW?DJhX???FMY|HBDpbaDX`?xjNGFJBx??NGCSO??b?EG?BEG??DO@iThFV`GtKKW?M`i?FLHqjiD`CS`????qb?Gq?GdKGa@???pbrj?pFLOKUG?D]`Oi?EQ?{SpDOxY@?@rVGaVU`{GauGFGDO?????FGOqxaa???CVhsL]VOMG?E`kNh{NN`CNMJ?ibp???????FJpO???Dh??????????????DO?aCG??????iSG????????????????????????????W??@?A??G?B?????????????????????????????????????FG????G????kLOAyvN]G?DI????????FGDP???????????????G????????????????????????????????BH??????????????????????@??q????????????????iWDI?G???D\h`DG?????????????????x??????p????????W??I???????@??????W??DThkf@ur@baA~`AvfAkf@ocA_fAvgAudAcgAibA}gAdx@whAyiAaiAnq@qg@_iAeh@{o@mw@gp@~p@lq@iv@fkAkiArk@tr@|hAwy@ro@|r@pkAb|@i|@bkArh@ki@ri@d~@_g@{}@bbAy|@q`AzaAnkAo}@sh@ej@gj@gl@xl@f~@fh@ui@tj@jk@km@ds@rt@cw@iw@cx@}`Alf@gg@xg@nh@{h@ji@qi@oj@~j@ek@ok@|k@cl@ll@tl@yl@wm@_n@en@jn@mn@rn@vn@po@so@xo@bq@fs@rs@}s@`t@`u@uu@dw@lw@xw@ix@sz@yz@|z@s{@|}@i~@`aAhaA|aA`bAjbArcArfA{fA~fAahAihA`jAkjAqjAwjAzjAckAokAwkAnf@of@pf@qf@rf@sf@tf@uf@vf@wf@xf@yf@`g@bg@cg@dg@eg@fg@hg@ig@jg@kg@lg@mg@ng@og@pg@rg@ug@vg@wg@yg@zg@{g@|g@}g@_h@`h@ah@bh@ch@dh@hh@oh@ph@qh@yh@}h@_i@`i@ai@bi@ei@gi@ii@mi@ni@oi@wi@xi@|i@}i@`j@aj@cj@dj@fj@hj@ij@jj@kj@lj@mj@nj@pj@rj@sj@uj@wj@xj@zj@{j@|j@}j@_k@`k@ak@bk@ck@dk@fk@gk@hk@ik@kk@lk@mk@nk@pk@qk@sk@uk@vk@wk@xk@yk@zk@{k@}k@~k@`l@al@bl@dl@el@fl@hl@jl@ml@nl@ol@rl@sl@vl@{l@|l@}l@~l@`m@bm@dm@fm@gm@nm@qm@sm@tm@um@vm@ym@{m@|m@an@bn@gn@hn@in@kn@ln@nn@on@pn@qn@tn@wn@|n@ao@ho@io@jo@ko@lo@mo@no@oo@uo@vo@wo@yo@zo@|o@}o@~o@_p@`p@ap@cp@dp@ep@fp@hp@ip@jp@kp@lp@mp@np@op@pp@qp@rp@sp@tp@up@vp@wp@xp@yp@zp@{p@|p@}p@_q@`q@aq@cq@dq@eq@fq@gq@hq@iq@jq@kq@mq@oq@qq@sq@tq@uq@vq@wq@xq@yq@zq@{q@|q@}q@~q@_r@ar@br@cr@dr@fr@gr@hr@ir@kr@lr@mr@nr@or@pr@qr@rr@sr@vr@xr@yr@zr@{r@}r@~r@_s@`s@as@es@gs@hs@is@js@ks@ls@os@ts@us@vs@ws@xs@ys@zs@{s@|s@~s@_t@at@bt@ct@dt@ft@gt@ht@it@jt@kt@lt@mt@nt@ot@qt@st@ut@vt@wt@yt@zt@{t@~t@_u@bu@cu@du@eu@gu@hu@ju@ku@lu@mu@nu@ou@qu@ru@su@tu@wu@xu@yu@{u@|u@}u@~u@_v@`v@av@bv@cv@dv@ev@gv@hv@jv@lv@mv@nv@ov@pv@qv@rv@sv@tv@uv@vv@wv@xv@yv@{v@|v@}v@~v@_w@`w@aw@bw@ew@fw@hw@jw@kw@nw@pw@qw@rw@sw@tw@vw@ww@yw@zw@{w@|w@~w@_x@`x@ax@bx@ex@fx@gx@hx@jx@kx@lx@mx@nx@ox@px@qx@rx@tx@ux@vx@wx@xx@yx@{x@|x@}x@~x@_y@`y@ay@by@dy@ey@fy@gy@hy@iy@jy@ky@ly@my@ny@oy@py@qy@ry@sy@ty@uy@vy@xy@yy@zy@|y@}y@~y@`z@az@cz@fz@hz@iz@kz@oz@qz@rz@tz@uz@vz@wz@xz@{z@}z@~z@_{@`{@a{@b{@c{@d{@e{@f{@g{@h{@i{@j{@l{@m{@n{@o{@p{@q{@u{@w{@x{@z{@{{@}{@~{@_|@`|@c|@d|@f|@g|@j|@k|@l|@m|@n|@o|@p|@q|@r|@s|@t|@u|@v|@w|@x|@z|@{|@||@}|@~|@`}@a}@b}@d}@e}@f}@g}@h}@j}@k}@l}@m}@n}@p}@r}@s}@t}@v}@w}@y}@z}@}}@~}@_~@`~@a~@b~@c~@e~@g~@h~@j~@l~@m~@n~@o~@p~@q~@r~@s~@t~@~~@__A`_Aa_Ab_Ac_Ad_Ae_Af_Ag_Ah_Ak_Al_Am_An_Ao_Aq_Ar_As_At_Av_Aw_Ax_Ay_Az_A{_A|_A}_A_`A``Aa`Ab`Ac`Ad`Ae`Af`Ag`Ah`Ai`Aj`Ak`Am`An`Ao`Ap`Ar`As`At`Au`Av`Aw`Ax`Ay`Az`A{`A|`A_aAaaAcaAdaAfaAgaAiaAjaAkaAlaAmaAnaAoaApaAraAsaAtaAvaAwaAxaAyaA{aA}aA~aA_bAabAcbAdbAfbAgbAhbAkbAlbAmbAobApbAqbArbAzbA`cAdcAfcAgcAhcAicAjcAkcAlcAmcAncApcAqcAscAtcAucAvcAwcAycAzcA{cA|cA}cA~cA_dA`dAadAcdAddAedAfdAgdAidAjdAkdAldAmdAndApdArdAsdAtdAvdAxdAzdA|dA~dA`eAbeAdeAfeApeAreAseAueAveAxeAyeAzeA|eA}eA~eA`fAafAbfAjfAmfAnfAofApfAsfAtfAufAwfAxfAyfAzfA|fA}fA_gA`gAagAbgAdgAegAfgAggAhgAigAjgAkgAlgAngAogApgAqgArgAsgAtgAugAwgAxgAygAzgA{gA|gA~gA_hA`hAbhAchAdhAehAfhAghAhhAjhAkhAlhAmhAnhAohAphAqhArhAshAthAuhAvhAxhAyhAzhA{hA}hA~hA`iAbiAciAdiAeiAfiAhiAiiAliAmiAoiApiAqiAriAsiAtiAuiAviAwiAxiA{iA|iA~iAajAbjAdjAejAfjAgjAijAjjAmjAnjAojApjArjAsjAtjAujAvjAxjAyjA{jA}jA~jA`kAakAdkAgkAhkAikAkkAlkAmkAqkArkAvkAxkAykAzkA}kA_lAalAblAdlAflAhlAjlAllAolAplAzlA{lA|lA}lAamAcmAjmAlmAnmApmAtmAmf@zf@{f@|f@}f@~f@ag@sg@tg@~g@gh@ih@jh@kh@lh@mh@th@uh@vh@wh@xh@zh@|h@~h@ci@di@fi@hi@li@pi@si@ti@vi@yi@zi@{i@~i@_j@bj@qj@vj@yj@tk@_l@il@kl@pl@ql@ul@wl@zl@_m@am@cm@em@hm@im@jm@lm@mm@om@pm@rm@xm@zm@}m@~m@`n@cn@dn@fn@sn@un@xn@yn@zn@{n@}n@~n@_o@`o@bo@co@do@eo@fo@go@qo@to@bp@pq@rq@`r@er@jr@wr@bs@cs@ms@ns@ps@qs@ss@et@pt@tt@xt@|t@}t@au@fu@iu@pu@vu@zu@fv@kv@zv@gw@ow@uw@}w@sx@zx@cy@{y@_z@bz@dz@ez@gz@jz@lz@mz@nz@pz@zz@k{@r{@t{@v{@y{@|{@a|@e|@h|@_}@c}@i}@q}@u}@x}@k~@u~@v~@w~@x~@y~@z~@{~@|~@}~@i_Aj_Ap_Au_A~_Al`AeaAqaAuaAebAnbAsbAtbAubAvbAwbAxbAybA{bA|bA}bA~bA_cAacAbcAccAecAxcAbdAhdAodAqdAwdAydA{dA}dA_eAaeAceAeeAgeAheAieAjeAkeAleAmeAneAoeAqeAteAweA{eAcfAdfAefAffAgfAhfAifAkfAlfAqfAmgAgiAjiAniAziA}iA_jAcjAhjAljA|jA_kAekAjkAskAtkAukA{kA|kA~kA`lAclAelAglAilAklAmlAnlAqlArlAslAtlAulAvlAwlAxlAylA~lA_mA`mAbmAdmAemAfmAgmAhmAimAkmAmmAomAqmArmAsmAumAvmA{dKCCPCCi@e@i@i@Ce@CgAgAe@CiAi@C[Ct@Cu@i@u@i@i@u@[u@hAhARC_@CPCSPRURCPSSPCCOVOWVURSV_@_@OWe@RPCC??CRC|@\\`@`@C\[[PP\`@\`@C_@CCCC[[_@CCK???XCXO????OOW??WWO?W???[???W???XVVVVU??V??UUC^U?^[[CmPiACS?????TU???S[C?USRX?PUO??R?S????OCCt@[KK_@_@C[Ct@CWT?????S???RRSPC?K^R??????PcB~@_@CCCCKKp@WCTV?PR???CCTV??T????p@h@Sb@[U^XKKXO???TSX\^???WXUV_A^SPR?U^O??R?S??^iB??????TRCPj@?l@P??_@Pc@b@??PCCR?????T?P?C????@@?AA@@@????@?XAh@??@????h@??????Cm@@O@@???h@WAV@@@???m@AnB`@\OACn@@T@???T@??????AC^WCKW????A?K~@??A????????V???U@???CI?TA?A@??????X^??Aj@AIT^UTXK?AKKKKKKk@b@CyVC^@A@???SOl@??@??@??h@?@@???@AR@aA?W@?AAn@PC?@?????@?A?????X?SDA?@@@??DT?@????aAV?X?U`@DR?@@??D@??O?O?????@@????A??m@S??@???Aj@?[b@\?^K?@@??@@?@@?D@@??RW@@@??pB@@@@????V@l@@@@A???@@?Pj@?@@@@@??@??@UO@?????@@@@?@S?PAR???@@@@???Ce@C@??@XOnB@@@@@XV?A??@@@@G??@?DA@@WDfB?D@?@?m@j@D??Gl@?@C?E@??@??@?@E??GAV?@@@?????@@@?DD????@@@@@@DG@A??@?U????@@@@@????@?@@??Te@Ce@K}@cBCsB??A????@????@@@@@@??AD??PA?@????@@Eh@G????@@@@??@??CB??B@????B???@?@G@@?????@@BA?B?AG?????@@ADB??@?@?@@@@@????@??@@BB??Sn@@A?BaA?@??AB????@@@@E?@????@@@@?????@?@G?A?@?BB?????@@@@AD@???@@A@?????@A??@??@@@@n@?@?@?@@??@D??@??@@@D?????@@G???@@??A?????@@@@@?BD???B?A@BET???AAD?BIIUI?????@@@@@@G?????@?@@@???BD?D??@@@@??@DE@?RAA????@AB??????@?????BT@?????@@@@AA??@@??@@???@?@?@DBABPD?????@@????XB?@@@D??B@?@??@?A??????@??@??m@AA??@GBX??@@?@@@@D?????@@C??@?@@HG????@@??E?@???@??????@@@@@II??@?@??@?@EOB?@@BA@B?????????@?@@@BB?A@@@??@AEOW?GV??????????@??@?????@@@@@A?HGA?D???@@@@@@EG@E@E???IET?@DA??@@@@@?@?@EBl@??A???@@?@????@@@E??@D???????j@?@?@???@@BD@?@???@@?????@IBEAAWCvYCxY??@?@??@@@HU????@@B?DBA?@BHVA????@B@??????@??@@@@@?@?????BDSH??@?H????@AD???@@@@@??????@??A????@?@?@@??@@@RPH????AB@??@@@@??@????@@?BB?@@B?B?????EBE@@???@@?@B@?@HDB??@??C?????UE@?S??R@????@@@BA????@?A@?@@@??@????A@H???E?EO?@BB@@B??F?BD@@B????A@B@?@????@?@@@?????@?B?@???????@??@EHA???@@@E@G??@@@?@@P@????@@B???El@G???@@@@????@?@@D?@FE??FDA@?@?@??@@???G@??@@??@GFB??@@??E?@AB?D@@???@@@GF@?D@????@?C????@@HBA???@@EDA?@@@GFEGB@@????@@BAGB?@??@A???@?@@@@AG????@@@@@?????@?@@?@?????@@??DDH?@@@@@?@????B@?@B?D??@@AE?h@?H????@@??HEBAB?@@G??@@@???@ABEEE@???@@@DA?@??@?AD??@?@@@@DEBHBA@?@B??@???@@@@B@EAG?@?@@???????@@@@@h@?A?@??@@@@A????@?@@@@AF@???@@?@?BDJ?@?@?@FFBFDDGE@??@DDJ???@@@@G?HFBG??@??@@@DFE?BGE?@AFAF@@?????FA???@FGBB?@?G?G?@@FF?????@@@@AA@F????@@BEB@BH???BJH????@@@@@@FB?D@@?@????ADI@@?@GHABA@?@@@?@AAA@??E????@?@@@DG?B@@@n@@????@@@???T???F?????@@@?@?????@@SXE?BFE??@????@@@@??@??????@@@BA???@FDA@E????@X?????@?@???@D@@@??????B???@?n@G??@@D?@??A?@?E??@@@@@GJ??A@BD???@@@@ABF?@@HDXA@?????@@H???@@@@EEBE???????@??????@@@@@H?FADG??@@@?????@??@@@EG@E?J??@JB?@???@@@AFF?@?????@?@??@??@??@@?@@@D?????@EGBF@?@D@@??@@@??GB?E?@???AAA@A??B@F@?????E?@?@?@????@@@@@ABD???@@@@G???@@@@??????@@??@@???@@??@@@??@?B?F?OAHBB????@@@@B?@D???@@@@????EE@??@@ABA?H?@??@@@?J@??@@?@?W@B?@G?@???@??@@@F@@@G?J?@@?@@@JB??@EB????@?@@?A@@@AAA???@@@??@??@??@@?@@@?A????ABG????@@@AE?AAF@@@A????@@?@?@@@@E?@JBA?@??@@@GFBFD@DFAED?@FBFE?EF???@?@???@EEB@@?AI??@@@GB??@B????@@@@A@D???@@B?@FTB??????@E?@?@?@@?@????@B?AFEB?????@@J??A?@@?????@@BHDBABB?@?@?R?????@@@@????BFA??@@?BFJBA?H???FFAA???@@DD??A?@@D??E???@@@?BEA@Hk@IIDAA?@@@@@DA??D@J@B@A??@BD@?@B??BD??????@?@@@@@??@???B@?@A??@@?@D?@?????@BDF?????@B?DHF???B@@X???@@@??A@@?????????@@?@@V??????BG@@????@@EEEBD??@@DEA??@@@?@D???@?@@BF???@??@@FD????@GH?@?@?@@@@??D???@@@@@A??A?@??@?@GD?@GFD?@@???AEBA??@@@@@??BB????@@FE?@????@@UFEBG@??@?A@@FO@???@@B?@??@?D@H?????@@B??????@@@DB?B??@?@@@B?FAA??@@@EB??FBG?EBDA?BEA?@??@EF@?@A???????@B????@@?@@@?@????J?????@@@@?AF?@F???@@@@FG????@@@?DH@??@@@@@JFA????@@@@@AG???BBEGD??@@@BFW@@????@?????@@@@???DFE??@?@@@@FEF@@B?A?A???@?@?@APW@@ABG@A???@@@???@???@???@?B?@???@@?HB?B?B???@@@??@F??????@@@BEEA?????@????@@@@BAD????@@@@@??A?@E?????@F?F?S?@@???@@?@@FB@J??GA??@@@H?DF??????@@@??@@FFDAI?????@@@@?E??@?@BF@?????@@@@B@?????@@@?H?H??@AA??@????D@@@JE???@?GE@??@@?@????@@DF????@@??B??@?@?????@@F@?????@@B?????A??@@?@@?@@BABDB?@@E?@B??BHB??@?@???@????@???????@@@@B??@@???@??BF???E???@@BB??@???@F??????AE???@@@????@@@??@@EFHA@??@B?????@@@@@@B?????AVF@?G???@@B?@???????????@??@@@@A???E???????@@?????@?E@?@????@AA???@@@D??@??JFR????@@@@E?EF?@?@???A??@@@@DD@@????HBUD@A??@BEP@?????@@FFA???E??????DDBDC@???@AE?@?@EDB?H???B@@F?@??@??DDEB@@@@??@?@??B???B??@?HE??@@????B?@?@@@@@FB@????D???@@@@@@??JBB@??G???@@@@@??@fB?@@@@@?????@@??????A????@@@@@@?@?@????????@@@@?@@I??@????@@@@HBD?F@?????@D?S@H?@?@@?@????@@@@F??????@@???@GFBBDG@?@???|Qc@iBBEBE??@ECIIB??A?@?@ABLBG?@@???D??@??@???@@@??@EDAFH???@?@@@EDGAF@?@@@@EA????@H????@?????@?@????????????@@HD????@@BF?????@GAG@??@???H@??@??AAF@??@@@?E?@?@DLBA????@E@BJ@?@???@?????@DE???@???@@??BHAA??@@@@J????@@@@B???@@??E??????@?@????@A????@BEG@@@@@@?G???A?@@@BGB?GBA?@@D????@@@@@FE?@????@?@???D@@@AB?G?@??@@EH?G?@@@??@@A@@???D????@@E???@?@@H???@A?@@???@@FELG??B????G?????@@@@EA@???@JDB??EJ@???@B?@???AE?@?@@F????@@@??@G????@@@DAFGDF??@@??@?@@@???@@B???BD@??A???J??@???@EBF???@@?@EDBE???@@@DB???G?A@@??@@@??@AD??H@??@@@@????E@@@@@@E??@???????@@@@@?AD@??@@??@?G????D??F?@@?????D@@?????EBF@????EB?@??@@@@??EBB?@AH?@?@?@@???@??@GA@@@@????D?@??@????????@JA???@@@@@???@?@?@@B@????A?@????????@@@??????@@?????@@@@B@????F??????@@@?@B@??@???@??@?@??@@?????@???A@@?@@E@????@@BB??????@????@????@??@@@G?@?D??EA?F@@??@???@???@??@@@@@??@@???@D??????@@@@BA????@@@?@AG@??@@BBA?@????@?@@@R????@@@@@HA???@@???@@??GH?@@@@@@D@D@???@AB]PB?B]??@???@@@???@??@@@@@?@???@?FJ@DDE@???G?AE@??@@@????@?@@DHBE@?@??@@@??????@??@@B????@@?@@?????@@??@@???@?@?????@??????@@AAB?G?@@@@?A?@@HBF???@?@@B@???@?????@EELB??@?@@@HBAB?@?AFC@?????????@@@D?@@???@@@?@@@GE?FA?@??@@@B??????@BB@?G???@@FGF@G?D@?@?F?@?????@@@@@?@@?????@????@?@@@A???@?@@B????@@@@???BB?DJ???@@??@@@??E??@@DDDLFB???@???@??@@???@???@E@??BI??@@D@??@@@@BFFD@@Jm@@@@??@@?A?GB@?????BHE????E???@@?@@B?????@@@@?????@HAB?@@???????@@AG?BF?E???@A??E?@@GA???@?@@@@???BG?]@???@??@A@@?@@?@@????DJEB???@@@@A??@???BG??F???@B@EEFD@????ABE???@@@F@?@??D??@@?????@@QE??????@@@?G?@??????????B?@?????@@@IB?@???@???A@???????@@??@@@?AEB???@@?@@????@?@?@???@DAE????@@@F@???@@@B?@@@@A?DF@@?@???@?????????@@?@@?@?D?Q?@@@@BA@@@FEAD???@?@?@?????@?@E?B??@?@??@??@@?????@@???@??B?@???@??@@@@@@BA???@@@@@DCITIIIXOWV@???B??A@AA???@?@???@?@?????@@?????@@F@@@@TJ@????@@@B@??@@??@@?A?@??@@@@AG???@??@??@ELL@???@??@@@A@?????@@BBAQ???@@AA@?????@@A???@?@@@A?@A???@@@JE?@ALNBEHB?B@JTA?@??@NUNNTQAA?AA@@@@AB?QACKKKKv@\xR_AZB@??@??LG?G???@?@ALDFBD???@@@?????@@D????@@OB?????@@@@@?A????@?@@@@@@?@@@}@@t@GHAA?@@@@@@N?A?@??@@A?DG??FA?????@@@????@?@@@@@AA?@@@@@AD@???@?F???@???@@?A??@D@????@@DLA]ISIIRIPCMM??@EGBAZKk@KKKK??@??@?@@DAWTI?????@sBp@pBEEAAD??E??@?@????@@@@@DB@ABEGBBNGEDD_@`AKV?????@@@@E???????@??@@QQNIQH??@?@@@????@@GEL]?????@@@@?????@@@@@ABA?@@?????@@A@????@@@@???@@@AJEF@@??@?QAAALQ???@?@@EJ??@@?IEQ????@@@@@@JLDFBBH?BEGDEHBANOT?JEE@???A??F?D???@??@@@FAEFG???@???@@@B???EDJA??AA@?@@@?NN@@@I??@@@@@@A????@@B]AA@`@}@????@?@@@@@IIIIIMMMN??@@@@??EA@?@@@@KDQ?NNU]G?AA??@@@@ABE?p@`@??EA???@@@@@A@??L@@B@???@??@J??@@BBH@?????DLAGBEEK??@@@@@@???ABEBFJ????@@HGB???@IG?????@@@@@E@AA@G@???@@@@AF?AGB???@@AAA?B???EIX?????@@@@@@@??????FJ?AG@BBD?@?@@@@JE\\E???@@??@A@@?????@@@IIA???????NA@GAE?@@@@J????@ABE??@?????@@@@FLAKv@ZKKNNNA?@@?@??@@@@FFJJD@@??@LEFDDLGDL]_AGA`@???@?D??@?@@@?@ADALLD?@@?A@@@@@@DAH?ADF????@@@@@@B@BFFAA???FDGAAAGNDQE??@???@DLEAD?????@VNBA????@@@A@@A????@@@@@@@????@@@?F???@H??@@B????G????@?@@?@@@@J???A????@@@@@GF?@@????@@@A?@@@????@@@FJ?@???@AAAJFLD@@@??@???H????@@@@@???@???????A???@GB?F@??????@@???????A?@ZKKEK??QAJp@`@\\\Cd@C????@@@?@@@DB@E????A@?@@@EEJDF????@???H?A?EDEADD?JGAAAA@@?@@@Lv@Zk@A?FFBB?????@@@@@@@GDBEB?ED?@?@@@G@???@@EEAB??@IIN@@@@??????A?A@?@LGA@?@??@@@B??AAIF?AAGAL]EAIE@@@?@??@@BAAFAB@DG?BD@@?@????@@@III@?????@@@@@J@?TNk@LEJGJD???@??@@@@HAE????@@@@?@?@@@@@??B@??@@@????@?@@?@????@@@@?????@@@@@AH???@@@@?@?AGb@Cd@IXAAFH?????@@@@[@D??B?????@@@@AEBADBLF@?@?G??JDG???`AcS??@@@@???@@BEF?????B?B???@?@?@@@Ge@\}BCYYY?KC@@EAA??@@@??@@@@@????E@@??GEB@??@??B@?J?????B????@@?@@EADBHBFB?E?@?@@@????@@IAAA@?IIAGQAAA?@?@@@@@J@AA???@@@@BAD@??@??IDE@?A?@????@@@@D?@?@??@@@EEG?BA@@@@G@?@??@@?@@c@Cc@b@Ye@ZK_@@???@??@@B?F@????@@@DBG@???@@@@?@FB@?@WEEBA@????@?@@?KK~BN?@@???@?@GBB?EZKKGADE?@@@????????DQH??GFEH????@@Y?????@@@@@@D@B|@??????@?@@@?AGED?G?aSZCK@D@@??@@@@?BEGJBCd@d@`A?@@@?@G?@BE?????NNJ???JF???@@@EAB??@????@@@@_Cd@Yd@Y?@??@?????@@@@@DBA????@@@AFGB?@????@@HHJF?J?@A??D@@?@@?BDYYYd@`@Y@@@@@????NLD?@????@?????@?E?@?@???@@@@?@@@@@?@???FBBF?????@@@@?????@@?????@@@@@@O@@@@@A????BE?E???AAAA@?@@@@@@?@???@????@@@OIIFA@???@??@@Q@@??@?@@?@DEBBA??ZKKKA?????@BGEA@??@@@@?????@?@@@@D?????@J@@FB??E@D?????AA??@DHXN?@@B?@??@@@@?E?@??@?@JEI@?A????@@z\ZKKKD??@??@@@@BJ]?????@@@@@@?????@@@@@@BBBFBBB??@????DJ?@AEGGBA@@GAQGD@?FNI???@?@@@?@@B??B???@@@???@??@@@@@??@??@?@@@@?????@?A?D??@@@?@AA?@@?@@@??????????@@@@@@@@@?????@@E?DB???@??@@??@?@@ADFDEAAAEBA@@?@@??AHAB??@?ACYMB??@@@@MU?@@????@@@@^YKYE??@@??@@@@AFBE@AHDABDFDG???II???@@@@@H@AA@?AA?@@??@@@BEEE?????@@@?DE??EGEB]OMIIMIMMIMM??@@@@D?H??@???G?EE?@@@????@@???A?@???@A@?????@@D????@@@@@@II@@@@GBDE?????@@@@?????@@@@WNGa@a@a@a@@?????@@@@???@@@@??@@?????@????@?HABA???@@@@@A?????@@F?H?@???@@??????@?D???GEA?@?J??????A???@???@?@@A??BQDFA?@????@H???@@@G@??????E@??@???GD@ABD@EGB?DB?@???EEAE@??@@??????@@JA?@??@?@DHF??@?@DD@@?A@ADFEDF?@??@@@@@??LNA???@?@@@@?@@@@??DFo@@???@?@@@@?JGD@BADAIE@@@@@@?GD@??????@?@?A?@???@@@??@@??@ABA??A@@????@?@@@@E?@LA??@?ZA?@?@@??BDDL@@??@@??BA??@@@@@???@D?@@?@@???@@BEF@@?J@???@????@@@ALFAB??@??EFA????@@??@@@HE?DEB@??H@??EJ@????@@?????@@@FGD@@???????????@@@@@EBF??@A?B???@?????@@@@@A??@@@?QG????@@BB@ABASL@]@@FFDA?o@o@o@o@???@@??@@@@?@?@@@@BLB???@@???@BB@?????AA???@@@@@?@@?A?@?@@Gj@????@@@@@@DD??@BF?A]BB???@?????F?@@@EL???@??Eb@?BLE??A??@@@@@????@@???A??A??@?@@@?@ADA@@A?A?A?@FAA@@?@AA@???@@@@@??@JBDa@Va@b@MIIMIIIIMMA@@????@@@@QABA@A?AE@?@@@BAA?E]B@A?HEBFEAAA??@@@@@LJ??@??@?@@@@??BB@@??@@??????@?@EE@???@??@@BF??BEB?A??@@@FHBAAE?@@@BGJDD?@@H?G??@@@@???@??@@@GD?G??@@?????@@@@@B@??????@BE?@@?@EFA?????@?@@@@JB?????@A@@E????@@EBB?@??@?@@@??????@@FAEA@????@?D@IEFN@???@@@???@???@DAQA@D?H@????@@@@B?AS?O?????@@@@?AA@?AA@@???@@@???@QFFFABHB?A??c@c@a@@???@@???@@BB@B@@?DA@?|@@@@@@????????@@???@@?@EA?????@@?@@???@?@?EB????@AHA@@?G?@@@??@@@GBA@???A?BBBB??@?A@@@BB???HDHB??DHBD@E???@A@?@??@@@@@@@@??????AA@@@@Kk@LB??A?????@@@@@?E?@?@?@@?D?@@@@@????????@@?@@GB?]UNJAAD????@@?@@@@GEGBBFA?AD???@@@@JL@?????@@B??@@@?@?DB??@BEEGA@@@BAA?@@?@IRLDF???@@@@@AB?@@?@@??@BAADFEEB??@?@@@@@@DWA??MMMA????@@@@BG?????@?@@??@@ZK?DHBD??@?@??@@???@?@J@?????G?@????@@@EBGEJ@?@@@@????BAD?F??D@?????@@????D?@@@??@?@@@A??DF???@A@d@Y@?@????@@@@DA@FB????@EA@?@EG????@A@@@@@?????@@@@@LD@?????P?????@@@@J?@??@@@@?@??@????@@@@@ABF@????@@?@BJD???BE??????@@@@@?D???????@@@@@????@@@?@@DABD?GDD??@@@@@@?????@D?????@EAA???@?@@@@????@@@@AELDAFA?@@@@EDIIIIMIMMMMMINI_Cd@YYZ~@@???@??BADE?BGJHF?BB?DGG????@@@@?@@AYYY@??@??@@G@EBD?????@@@@?????@????@?@@@@BBDEFD@@@@MG?AB?ADHEDFDDA?DE?@@@D@????@G?@@E?DAE??@@@@@@??@?@?@@DBB?EJBDJ??D@DDBE@@???@@???@?@@?????@@@HA???@?@@AI@??@DBHF??AE?@??@??@@FDAB@D?@??@?DBD???@?????@@@@@DA@D??A??@@@GAD@JD@?????@@D@A@@@???I?H?@????@@@??@?@?@??@@ABBAQ@@@@@ANAA?@@?@@@@@????@?@BDEJ@B??@@???@@A????GDAGD?Dv@YYZk@KVIH@??????A@@@????@??@G?HB@????@??@@DA??B????@?@@A???@??@@@???@??BBAEB@@?????JG?@?A??@@AGE?@????@@?@DJIMIIMIMMMBBA??H@@????BB?????@@@@NIa@?@??@???@?@@?????GD?@??????Q?B?@AA?BEA???@@@@???@??c@a@b@c@GBB?@?@??@????MCSA????@????@@A?@F?????@@@@BE@@@??????@FBA?H??G@B?QEJ@@??@@@@A@????@@@@@LE@?@???@E??@??@@@@@?E@@@@???@@?@E@D@DG????@@@Ab@?????@@@@@@D?@BE??@??@@???@B?????????@?EL?DE@???@@JAFJB?@????@@????@?@@DDA@???@@@@@D????@@?BABHFD@????@@@@?HB????Q?????@@@@??B?@?@?@AABc@DAB?DH???DK?@???@@@@@?????@@@@@?o@CC@?????@@A?@@@@@LBAL?DAF?F?B?????@@??????@?@B????BH????AFHG@??@??@??BB@?????@d@???A@@?@?????@B?????DBE????B???@????????HH?????AA????@??@????@@???MMDE?BIGAD?@???@@@@BG?FDBJB??@BGBE?@?KZKKK?????@@@@DFBGAF??@@??EA?????K?LCDABD??B??E@?@@FGA??@@??AAF@@?????????@?D@??GA@??@????@??@???@@@@?????@@@F??A???@???@??@@?FE?@?@@????@??@??@BA????@?DD?@???BEH??A???@@??@@??@????@Z~BKHB?@?@?@@@???@????@??????@@?@??@?@?A???@?@@JB?????@@@@@AGBBD?@?@@@@B???B@?????@????@A????@?@@@@@@?????@FB@A?F??@?BBF??AJ??????@@@@B@FAB?D@@@????@@?????@@DAGB@T@?????X?E???OD@????????A@?@???????@??@??@?????@@@?AG@?@A?????B??@???A????BB?????????@?BBH@??????DA?@@??F?HBBA?@@@@?@AA?A@@@?@@IIIIMMMM??@???@@@@ALH@@@???@@??????@@@AA@@@@??????A????@@@@@@B?HD???H}B?ALJB@?????@G?????@@@@?@????@@A????@@@@AA@????@@?@@@B??@??????@?@???@??????A?????@???@?????@@@@?BA@????IIMMMMM????@@@AAA??@@@AQQLGDEl]Q???@@??@@@AA@@@@@@BAA@AA???@@@@?@@@@GAA@???@FB?A???@@?????@@?@@@@?J@A?@@@BAAA??@LAAA?Ec@a@a@NE?NA@?FADA?@@@@A???@?@@@@@FDFDB?F?@?CACBCCCDCECFCGCHCICJCKCLCMCNCOCPCQCRCSCTbAB`CDbCFdCHfCJhCLjCNCUCVCWCXCYCZC[C\C]C^C_@lCCaCEcCGeCIgCKiCMkCUsCXuCZwC\yC^{CDmCG|CJpCMdAWtCYvC[xC]zC_@cDEC`@Ca@Cb@Cc@Cd@Ce@Cf@Cg@Ch@Ci@Cj@Ck@w@`@jDl@Cm@Cn@Co@q@p@eAh@lDj@q@q@Cr@Cs@Ct@Cu@Cv@Cw@Cx@Cy@Cz@oDt@pDv@rDx@C{@nDi@mDk@tDu@qDw@sD|@vDj@f@v@uD|@xDk@yDw@wDg@kDi@g@x@C}@C~@C_AC`ACaACbAeAi@x@}@zD_ACcA|Dj@}D~@{DdACeACfACgAChACiACjACkAClACmACnACoACpACqA_E_ACdA`EfAr@hAs@jAdElAfEnAhEpAjEdAkEgAbEiAcEkAeErACsACtACuACvAoEeAaEgApEjAmErAsEtAtEvACwACxACyACzAC{AC|AC}AC~AC_BC`BCaBCbBvEfAlEiAqElACrAkAuAuEwA|EyAz@{A_F}AaF_BbFaBdFgAxEkArEsAjAuAhFxA}EzA~E|A`F~AlA`BcFbBmFhAy@kAnFtAzEwAiFzAqF}AmA`BtFiAeFrAgFvA{ExAnA{AkF~AlAcBCdBCeB~Dk@xFjAyEsAoFvAyFyAjF|ArF_BCcB{FfBCgBChBCiBqAkAuFuApFyA~F}AmAcB`GgBaGjBbGlAfFsA|FwAoA{ApAkBClB{@rAkAmBoAnBCoBCpBCqBCrBCsBfGsAjAmBgGoBiGqBrAsBCtBkGtACmBlGpBjGrBCuBCvBf@wBCxBCyBCzBC{BC|BC}BC~BC_CC`CCaCCbCCcCCdCCeCtAxBpGzBrG|BsG~BvAfCCgCChCCiCCjCs@kCClCCmCCnC{GiACoCCpCCqCCrCx@sCg@tCg@uCCvCCwCoCK~CNcAWgDZaD]{@xCCyCCzCC{CC|C}GvC_HI}CLqCU_DYhD\bD_@eHwC`HL{AWcH[iD^f@}CC~CfHJeDNbHX`D[nH_@jHIgHMfDXsH\tHJqHUhHZdH^x@_DC`DCaDkHMvHYiH]xHKaHUzH[bILlHXwH]eIM`IZ{H_@hINrHYaI^jIUdI\|AWmH\f@bDCcDCdDgI^pIcDrIYlI_@tIdDsI_@fAeDqIdDwIcDuIZnIXyIYzIZ{I[oH~CpHKcIWoI]|I\|H`D~HIuHNkIZzA|CyAyCxIdDgJYyAfDCgDChDaJ]kJ^tAzBxAiDCjDCkDClDCmDCnDCoDCpDCqDCrDCsDlJ_@mJ{BuAiDnJkDpJmDrJoDtJqDvJsD}IwC_INcAVmI]f@tDCuDCvDCwDyGyBqG{BuA}BtG_CuGaCwGcCwAxDCyDCzDC{DC|DC}DC~DwJ|BCiDxJlDqJnDsJpDuJrDC_EaKzBxA}BcK`CvGbCxGdCCxDgK`ECaECbECcECdEsAmBnGqBrAeECfECgEChECiECjEC`E`BbEuKdE~AiDiKmDzJpDlKsDaLjDoJlDjKoD{JrDsAuAcGzAvF~AsFaBCkEClECmEf@nE}HaD}JUrCW`J^|AV_K^nK{BbK~BvA`CqKcCfKyD~KaEtKcEvKrDoL|BzG_CdKbC_BxDsKaEsLdEuL}BpKaCeKdCrKyDrLbE`LrDwKxAnAnBhGpBoGeEyKgE{KiE}K`E`BoECpECqEyJnDkKqDg@rECsE~GwCaBWlL_@~AtECuECvECwECxE|GyECzEr@{EC|EC}Es@~Ez@_FC`FCaFCbFlMuEmMwEoMjCs@yEqMgAC{EsM}EuMzAC_FwMaFyMzCmKsDzL~BpLaCbBxDxLbE}LsDg@cFjMIdJUnL_@cN_CwLcCwAdFhN`CqLdCCdFzMvEnMxEpMzErM|EtMiAC~EvM`FxMbFmNwE{MiACyE}M{E_NiApNzAaN`FrNzCfJzCjL`DcJJyHWbAeFCfFf@gFkLIdBW}N`DzNK_JXbJaDkMXw@FnCI_OXyNaDdOYgOIfOYeOGdDKbOYq@hF~NJ{NXfNvC~ILfIYjNaCbBdFiOJoOYmLWtOKlOZcOIjOZwOLrOZkOHhOZ}OIzO[yOJuOZ`OaD~O[{OMiI[|NfFePNeJ[iLlECiFsObC_BdF{@mAgEoAiEqAsNxEnNgA~M|EeBjACjFCkFClFCmFnPjC|MzEoN}Ey@jFpPlFqPpAlPnAnEqAcPI`P\gPU_PJbP[uPJxP\iPiFfLvA}FzAgL_BlFbBaPKxO[w@nFnOK~P\yPKaQ]gBWwPKcQ^eQL|O[dQXiMsEgNJzP]jQvCqOMfP\vOXjPcCiNbBpQdClNbBhBwAeG|A_G`BqQxAzF|ArQaBrPiAtNzEsPiAwN_FbNbFCoFCpF{PbBjBdFsQyAdG~AhLbB{QzA|P`BzQbBoQYgBVbQLhQ\`RMnQ]f@qF`QLaR]bRNhP\}PLfR^mO`DaOLjR_@|JIvP]mRJkQ^uQyEuN|EeB~EqNaFqRzEvQ~EsRbFcLkDgMoDeLsD~LyAz@nB_MqBxKfEzKhE|KjE|LcEtLsDtRgAoP}E`N_FxQzC_S{EvN~EuRzCjBxDeNcEiQYoRKfQ_@gRUeSZgQMcR^hSNhR]dR`DlRMiS_@iJgDjJk@kBV~QZjSUyRzACnBzRrBCeEaMhE}R`E_LcEiRMpOwCdP\`KuDCrFCsFCtFCuFr@wB}AvFCwFwEhAy@xFCyFCzFC{FC|Fr@}FC~FC_GC`GCaGCwB}A|BvL`CkNdFpS[_RWlBWhTXfSL{AVfT\wSN~JWqSnBrSeEtSiEcMaEyLrDiTYkBWgS[rTZnToBmGrBsSfE|RiEpTbEtT\xSInR^lQwCyS]uT[gTXzT]_U\}Q{ApA_B}TIdBVkT]{TJpR_@_Q`DmSNkS^gUKkULkRaD~T^zApFfU^aU^mUI|T_@qU_@bU]lTUsU^tU_@mBWfAbGeRMjTMlSaDnU_@rUJsTXlUMzUY|UZdUJhUaDvTpB`MfExTjE~RdE`VqB{RgEbMjEbVrDuUXwUNjU_@{UNgVUvU`DiUUdSyDeVsDfVYoUzC`UYbS|ErRzAxNaFlVZpV[pU_@hVUoBWyUKiVaDaBV}U[oBVoSWqAxF{SzF}S|F_T~FaT`GcTwBeT}B{LbCkPbBxVyF|S{F~SgAC}F`T_GbTaGdTzBoK~BdNbCcU|AtQbBuV\rVXsVL~VM|V]tVI}VY_WN`W^dW_@qBWqV\cWU_VIbWZrBWhW[cVrBwTgEdV`EvSdEfW]iWXeWXgWJjW\~UK{V}AwFaBkV`EmWrDrW]oWYkWeEoTjExWZsWLwW^qWKzW[q@cGCdGmQNmTX~W\nW^aX]bX_@g@eGCfGCgGChGCiGCjGCkGClGCmGCnGCoGCpGCqGCrGCsGCtGCuGdXfGeXhGfXjGgXlGhXnGiXpGjXrGkXtGlXk@g@vGCwGjVWmXwGnXXoXaDpXIeUWmVZpWYg@xGCyGaWJuXK}WL|W_@sXZxX[{WMdAVCzGC{GC|GC}GC~GC_HyWfEaV`EvWsDnShDvRlDdLpD{XgElWaEqTsDuWaEcX^wXMaY_@yX\zXNxUIbYNfYUrX[cY]dYUhY^tBWeYJuBWiY_@lYXjYXnYYoYZmBVvXLkYKmYYtP`HCaHCbHuYaHwYbHpY[tYZyY\{Y]|Y^}Y_@zY[~Y\_Z]wVX`Z^sYLbZ_@rYMcZMdZNfZUgY\vVWvBWeZNqYWiZXlZYjZUgZ]wBWmZZpZ[oZXrZYnZ^aZYqZ\sZZvZ]wZ[xZ^zZ_@tXyGyZ\tW~A}Z_B{ZfF|Z]_[^`[_@qXJtZ_@lBVb[Wc[Xd[Ye[ZwBVqBVf[[vBV|Xk@}XmDbLqDCcHi[nDhMrDk[oD`YbEkZXm[pD~Z`Bh[\r[]s[^t[_@o[YuBV_YhEuSaEv[iEyTcEw[jEyQpFnV}E`S`FhJZhZXrBVxB`EdMpEfMlD~XqD}[aECoEeMqEwRpDz[[n[cEc\dE|[WzBrDCdHzBcHyBbEp[qDuZZh\cEj\dEyBoE`\lD_\rDk\pE~[mDj[rD{BrDo\sDf\sD|BcHtBVe\sDg[Wq[aBy[iAwQ`Fs\~Ep\hD|BrDv\sDx[zCr\bBg\hDt\zAoVbFvIYzSvDx\_Fw\k@u\k@y\`Fm\qEa\qDq\Xd\Xu[W|\lDl\sDi\[CeHCfHCgHChHzVwBCiHCjHCkHClHCmH{[Yb\\a[Ke]Z_]\`]fHa]hHb]iHc]kHd]mHxBzDCnHhK}DCoHf][g]]}\Yi]^{\aF{BcHj]Zk]_@h]\~\mDn\sDm]nDl[sDhBpHCqHCrHCsHCtHCuHCvHCwHCxH`XUn]tHo]vHp]xHq]W_XdGr]X?yH</div>
<div id="globalStacks" style="display:none"></div>
<div id="methods" style="display:none">@??A??B?????B??C??pS?WC?D??E??@U?wL?F??G??PJ?sC?F??H??@A@sK?F??I??PD??H?J??K??PB?GE?L??M??@B?{]?L??N??pP?KY?L??O??pE?gY?L??P??pA?KO?L??Q??@B??P?R??Q??@G?KB?S??T??PY?SD?U??V??`A?WE?U??W??pC?GM?X??Y??P??sN?X??Z??@F?sW?[??\??pC??I?[??\??p|?_M?]??A??A?????U??W??`E?OM?^??_??PC?cP?U??_??PB?CK?U??`??`B?_K?a??b??@@?GS?c??b??PA?cH?d??e??pB?gy?d??e??pU@kk?f??g??`B?KL?h??g??@?????i??A??A?????J??K??P]?CF?J??j??p^??J?J??k??@@?cW?l??m??@A?cB?n??o??p??_D?p??o??p??[E?p??o??pB?SF?q??r??p??__?s??r??@H?oJ?t??r??p??{f?t??u??p@?kg?v??A??A?????J??k??`C?cW?p??w??pF?cN?n??x??@`?{I?y??z??@???O?J??j??@e?SJ?J??j??`S@{N?J??{??@G?WQ?|??C??pA?Cs?}??C??P@?kf?~???@?@V??F@@@?C??p]?KR?A@?C??@I????J??B@?`E?WK?J??C@?`J?OT?D@?E@?@??CR?J??C@?`P?cT?J??C@?@X?wT?J??C@?pX?sT?F@?G@?`@?kF?H@?G@?PD?_a?H@?I@?PG?Cf?J@?o??p}?cG?J@?K@?@E??R?H@?I@?p_?[g?H@?I@?@e?wg?L@?M@?PF?WQ?N@?O@?`E?CfAP@?Q@?`E?sH?R@?C??PM?sm@N@?S@?@R?w^?T@?U@?PY?wF@V@?W@?@A????L@?X@?P??ST?L@?Y@?`S?CX?L@?Z@?@L?oM?[@?\@?P??WH?[@?]@?@??[U?^@?A??A?????L@?Y@?@X?_X?_@?M@?`??OV?_@?Y@?@C?oV?_@?`@?PO?k\?_@?a@?pX?[T?b@?c@?@U?GE?N@?d@?p??OQAN@?e@?`L?Wz?N@?f@?`M?Wy?g@?W@?@C????b@?h@?@@?GE?b@?i@?`x??H?b@?j@?`@?CI?k@?o??@l?[K?l@?m@?pG?wN?n@?m@?@??oG?n@?A??A?????l@?m@?`V?WO?l@?o@?@H?OV?p@?o??pv?CQ?p@?o??@~?KQ?q@?o??@S?wC?r@?o??pB?Wa?s@?o??PE?kh?s@?o??PJ?oh?k@?o??@t?gK?t@?o??PJ?sI?_@?`@?pQ?o\?u@?W@?@C????_@?v@?@@?o\?_@?w@?@j?OX?x@?W@?@B????_@?y@?P??_\?k@?z@?pH?[M?{@?|@?pD?CD?k@?z@?`]?{M?p@?}@?`F@wK?~@?C??`B?WM??A?C??P@?[H?@A?AA?`g?kT??A?C??P??SH?BA?C??`G?sK?CA?C??@@????t@?DA?@L?WL?t@?EA?@R?kW?FA?GA?`A?So?HA?GA?PR?ga?IA?C??@@????{@?JA?pS?s_?l@?KA?`[?sW?n@?LA?@A?kH?n@?LA?@L?wI?HA?GA?PU?ka?MA?NA?`??WW?MA?AA?pK?KT?OA?NA?@D?oV?N@?AA?p@?KEAPA?U@?@L?cs?N@?QA?PM?{t?RA?SA?PA????TA?UA?pB?GG@VA?U@?`Y?Wg?WA?W@?PB????L@?XA?@C?OU?YA?o??pO?SC?J??C@?@Z??U?J??B@?@f?SL?J??B@?pl?WL?L??M??pA?[]?L??ZA?PM?GW?L@?Y@?pN?_W?H@?[A?@??CK@H@?A??A?????\A?C??@rBKw?H@?]A?@B?WL@@@?C??P\?CR?L??M??pA?K^?J??C@?PE?KT?L??M??pA?k]?L??^A?@O?GX?@@?C??pc?_R?~??Q@?PN?sS@_A?`A?pA?_T?J??{??`I?WQ?H@?[A?pE?KK@\A?aA?@@?_n?bA?cA?`@?_N?t@?DA?@N@KO?t@?dA?@P?wS?eA?fA?`P?ob?gA?\@?@B?ke?s@?\@?pL?Gl?s@?hA?@L?gm?q@?iA?pM?GN@H@?jA?`E?c_?\A?jA?`V?Om?\A?kA?@??km?\A?A??A?????lA?C??@@????mA?fA?`@?oW?nA?fA?PH?_^?mA?A??A?????n@?LA?pH?cI?n@?oA?PK?CL?q@?pA?pF?gO@qA?rA?`??G`?q@?GA?P@?GG?mA?GA?@O?_Q?nA?sA?p@?k]?\A?C??@N??p?q@?pA?`E?cO@q@?rA?PH?CF?r@?rA?`j?Cc?s@?tA?PZ?wi?H@?uA?P@??_?k@?z@?Pz?SO?N@?vA?p??SOAN@?wA?`[?KI@xA?W@?@A????k@?yA?`F??P?k@?pA?@K?_L?\A?C??pnACu?n@?zA?@C?WO?n@?zA?pC?SP?@@?C??@B?cQ?r@?rA?`Z?_b?gA?{A?@M?gg?qA?GA?`??S_?J??B@?PC?WK?J??|A?@B?OU?t@?DA?`p?cM?}A?~A?pH?oh??B?SA?PD?Oe?}A?d@?p@?se?}A?d@?@i?[j?VA?U@?PU?Gg?@B?AB?pE?ob?BB?C??`??G]?VA?U@?Pc?sg?N@?CB?@O?We?DB?U@?@L?{w?EB?W@?@B????L@?FB?P??cZ?L@?GB?pB?OM?H@?GB?@??[K@J??B@?Pw?gL?n@?LA?pK?sI?D??E??@??GL?F??A??A?????@@?C??@R??R?J??j??PQ@sN?n@?zA?`C?OP?HB?W@?@B????L@?IB?`??sX?L@?JB?pK?_N?[@?KB?@@?KN?J??K??@[??F?\A?C??`cAgt?H@?]A?pA?SL@@@?C??pJ?oQ?nA?fA?Pb?{^?LB?\@?PV?[m?MB?NB?`@?GP?MB?NB?`V?CR?OB?C??@~?wj?k@?PB?pK@wd?QB?W@?@A????L@?RB?PL?CU?_@?SB?@H?cJ?k@?SB?@I?_V?{@?TB?@r?WY?UB?C??@D????{@?VB?pY?_[?t@?rA?`X?OZ?MB?NB?`@??O?MB?NB?`T?{Q?J??{??pD?SQ?J??j??P|?kJ?L??WB?pA?{_?J??B@?`g@CN?XB?YB?`J?{O?XB?ZB?`@?cP?[B?\B?@A?kR?]B?^B?Pf?WE?_B?`B?`E????aB?bB?PD????cB?dB?`C????eB?fB?@v?WU?eB?gB?`?ASd?hB?iB?P@?o|DhB?jB?`L?{~DkB?lB?@N?{~?kB?mB?`e?Ws?kB?nB?PA?G\?oB?pB?`J?GV?qB?rB?`E?wJ?J??B@?pi@?N?L??WB?pA?K`?J??B@?p{?sL?F??sB?@??SM?\A?C??@`Bcv?tB?uB?pF?sG?tB?vB?`I?CG?bA?wB?@r?[G?bA?xB?`^?cK?bA?yB?`@?WO?[@?\@?PY?[I?zB?c@?@??cV?zB?A??A?????\A?kA?pB?om?\A?C??pM?{o?\A?C??PBASs?{B?d@?@@?WB?|B?C??@@????s@?}B?pR?gj?~B?C??`G?SJ??C?C??@@????s@?@C?`gACs?q@?AC?PK?GH@BC?@C?PA?CX?CC?rA?`V?Cg?nA?sA?`@?g]?b@?c@?PL?sD?DC?EC?pD?OE?DC?A??A?????B??C??pV?_C?D??FC?@_?kM?GC?WB?@B?SM?HC?IC?pB?wS?HC?JC?pE?cK?L??IC?PC?oo?</div>
<span style="position:fixed; bottom: 0; right:0; padding: 2px 4px; background-color: #ffffe0; border-top: 1px solid #ffc000; border-left: 1px solid #ffc000; border-top-left-radius: 4px;"><span id="produced">Produced by <a href='https://github.com/jvm-profiling-tools/async-profiler'>async-profiler</a>&nbsp;</span><span id='match' style="display: none">Matched: <span id='matchval'></span>&nbsp;<span id='reset' title='Clear'>&#x274c;</span></span></span>

<h1 id="title">Heatmap, LOCK</h1>

<canvas id='canvas'></canvas>
<div id='hl'><span></span></div>

<span id='status' style="position:fixed; bottom: 0; left:0; padding: 2px 4px; background-color: #ffffe0; border-top: 1px solid #ffc000; border-right: 1px solid #ffc000; border-top-right-radius: 4px; display: none">&nbsp;</span>
<script>
	// Copyright 2020 Andrei Pangin
	// Licensed under the Apache License, Version 2.0.
	'use strict';
	let root, rootLevel, px, pattern;
	let reverse = true;
	const levels = Array(0);
	for (let h = 0; h < levels.length; h++) {
		levels[h] = [];
	}

	const canvas = document.getElementById('canvas');
	let c = canvas.getContext('2d');
	const hl = document.getElementById('hl');
	const status = document.getElementById('status');

	const canvasWidth = canvas.offsetWidth;
	let canvasHeight = canvas.offsetHeight;
	canvas.style.width = canvasWidth + 'px';
	canvas.width = canvasWidth * (devicePixelRatio || 1);
	canvas.height = canvasHeight * (devicePixelRatio || 1);
	if (devicePixelRatio) c.scale(devicePixelRatio, devicePixelRatio);
	c.font = document.body.style.font;

    const search = typeof searchIterative === 'function' ? searchIterative : searchSimple;
    const init = typeof renderHeatmap === 'function' ? renderHeatmap : render;

	const palette = [
		[0xb2e1b2, 20, 20, 20],
		[0x50e150, 30, 30, 30],
		[0x50cccc, 30, 30, 30],
		[0xe15a5a, 30, 40, 40],
		[0xc8c83c, 30, 30, 10],
		[0xe17d00, 30, 30,  0],
		[0xcce880, 20, 20, 20],
	];

	function getColor(p) {
		const v = Math.random();
		return '#' + (p[0] + ((p[1] * v) << 16 | (p[2] * v) << 8 | (p[3] * v))).toString(16);
	}

	function f(level, left, width, type, title, inln, c1, int) {
		levels[level].push({left: left, width: width, color: getColor(palette[type]), title: title,
			details: (int ? ', int=' + int : '') + (c1 ? ', c1=' + c1 : '') + (inln ? ', inln=' + inln : '')
		});
	}

	function samples(n) {
		return n === 1 ? '1 sample' : n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',') + ' samples';
	}

	function pct(a, b) {
		return a >= b ? '100' : (100 * a / b).toFixed(2);
	}

	function findFrame(frames, x) {
		let left = 0;
		let right = frames.length - 1;

		while (left <= right) {
			const mid = (left + right) >>> 1;
			const f = frames[mid];

			if (f.left > x) {
				right = mid - 1;
			} else if (f.left + f.width <= x) {
				left = mid + 1;
			} else {
				return f;
			}
		}

		if (frames[left] && (frames[left].left - x) * px < 0.5) return frames[left];
		if (frames[right] && (x - (frames[right].left + frames[right].width)) * px < 0.5) return frames[right];

		return null;
	}

    const marked = [];

    function render(newRoot, newLevel, minLevel) {
        minLevel = minLevel || 0;
        if (root && minLevel === 0) {
			c.fillStyle = '#ffffff';
			c.fillRect(0, 0, canvasWidth, canvasHeight);
		}

		root = newRoot || levels[0][0];
		rootLevel = newLevel || 0;
		px = canvasWidth / root.width;

		const x0 = root.left;
		const x1 = x0 + root.width;

		if (minLevel === 0) {
		    marked.length = 0;
        }

		function mark(f) {
			return marked[f.left] >= f.width || (marked[f.left] = f.width);
		}

		function totalMarked() {
			let total = 0;
			let left = 0;
			Object.keys(marked).sort(function(a, b) { return a - b; }).forEach(function(x) {
				if (+x >= left) {
					total += marked[x];
					left = +x + marked[x];
				}
			});
			return total;
		}

		function drawFrame(f, y, alpha) {
			if (f.left < x1 && f.left + f.width > x0) {
                let match = pattern && pattern.test(f.title) && mark(f);
                const fw = f.width * px;
                if (fw < 0.1) {
                    return;
                }
                c.fillStyle = match ? '#ee00ee' : f.color;
				c.fillRect((f.left - x0) * px, y, fw, 15);

				if (fw >= 21) {
					const chars = Math.floor(fw / 7);
					const title = f.title.length <= chars ? f.title : f.title.substring(0, chars - 2) + '..';
					c.fillStyle = '#000000';
					c.fillText(title, Math.max(f.left - x0, 0) * px + 3, y + 12, fw - 6);
				}

				if (alpha) {
					c.fillStyle = 'rgba(255, 255, 255, 0.5)';
					c.fillRect((f.left - x0) * px, y, fw, 15);
				}
			}
		}

		for (let h = minLevel; h < levels.length; h++) {
			const y = reverse ? h * 16 : canvasHeight - (h + 1) * 16;
			const frames = levels[h];
			for (let i = 0; i < frames.length; i++) {
				drawFrame(frames[i], y, h < rootLevel);
			}
		}

		return totalMarked();
	}

	canvas.onmousemove = function() {
		const h = Math.floor((reverse ? event.offsetY : (canvasHeight - event.offsetY)) / 16);
		if (h >= 0 && h < levels.length) {
			const f = findFrame(levels[h], event.offsetX / px + root.left);
			if (f) {
				hl.style.left = (Math.max(f.left - root.left, 0) * px + canvas.offsetLeft) + 'px';
				hl.style.width = (Math.min(f.width, root.width) * px) + 'px';
				hl.style.top = ((reverse ? h * 16 : canvasHeight - (h + 1) * 16) + canvas.offsetTop) + 'px';
				hl.firstChild.textContent = f.title;
				hl.style.display = 'block';
				let details = f.details || '';
				canvas.title = f.title + '\n(' + samples(f.width) + details + ', ' + pct(f.width, levels[0][0].width) + '%)';
				canvas.style.cursor = 'pointer';
				canvas.onclick = function() {
					if (f !== root) {
						render(f, h);
						canvas.onmousemove();
					}
				};
				status.textContent = 'Function: ' + canvas.title;
                status.style.display = 'inline';
				return;
			}
		}
		canvas.onmouseout();
	}

	canvas.onmouseout = function() {
		hl.style.display = 'none';
		status.textContent = '\xa0';
        status.style.display = 'none';
		canvas.title = '';
		canvas.style.cursor = '';
		canvas.onclick = '';
	}

    window.onkeydown = function() {
        if (event.ctrlKey && event.keyCode === 70) {
            event.preventDefault();
            search(true);
        } else if (event.keyCode === 27) {
            search(false);
        }
    }

    document.getElementById('reset').onclick = function() {
        search(false);
    }



    class DataBuffer {
        data;
        pos = 0;
        constructor(encodedData) {
            this.data = encodedData;
        }

        nextVarInt() {
            let res = 0;
            let shift = 0;
            let b;
            do {
                b = this.byteAt(this.pos++);
                res |= (b & 0x1F) << shift
                shift += 5;
            } while (b >= 0x20)
            return res;
        }

        byteAt(pos) {
            return this.data.charCodeAt(pos) - 63;
        }

        int30(pos) {
            return (this.byteAt(pos++) << 0)
                | (this.byteAt(pos++) << 6)
                | (this.byteAt(pos++) << 12)
                | (this.byteAt(pos++) << 18)
                | (this.byteAt(pos) << 24);
        }

        int36(pos) {
            return (this.byteAt(pos++) << 0)
                | (this.byteAt(pos++) << 6)
                | (this.byteAt(pos++) << 12)
                | (this.byteAt(pos++) << 18)
                | (this.byteAt(pos++) << 24)
                | (this.byteAt(pos++) << 30);
        }

        varInt(pos) {
            let res = 0;
            let shift = 0;
            let b;
            do {
                b = this.byteAt(pos++);
                res |= (b & 0x1F) << shift
                shift += 5;
            } while (b >= 0x20)
            return res;
        }

    }

    class HeatmapCollection extends DataBuffer {

        maxZoom;
        blocks;
        zoomToCounts;
        zoomToMaxes;
        zoom;

        constructor(encodedData) {
            super(encodedData);

            this.maxZoom = this.nextVarInt();   // fixme
            this.maxZoom = 3;

            const startMethodsCount = this.nextVarInt();
            const starts = new Set();
            for (let i = 0; i < startMethodsCount; i++) {
                starts.add(this.nextVarInt());
            }

            const lz = new Lz78Data(this, starts);

            let max = 1;

            let prevByte = -1;
            const blocksCount = this.nextVarInt();
            let counts = new Uint32Array(blocksCount);
            for (let i = 0; i < blocksCount; i++) {
                let v = 0;
                let p = 0;
                let hasMore = false;
                do {
                    if (prevByte === -1) {
                        prevByte = this.byteAt(this.pos++);
                        hasMore = (prevByte >>> 5) === 1;
                        v |= ((prevByte >>> 3) & 3) << p;
                        prevByte &= 7;
                    } else {
                        hasMore = (prevByte >>> 2) === 1;
                        v |= (prevByte & 3) << p;
                        prevByte = -1;
                    }
                    p += 2;
                } while (hasMore);
                counts[i] = v;
                max = Math.max(max, v);
            }

            this.blocks = lz.decode(counts);

            this.zoomToCounts = new Array(this.maxZoom);
            this.zoomToMaxes = new Array(this.maxZoom);

            this.zoomToCounts[0] = counts;
            this.zoomToMaxes[0] = max;

            for (let z = 1; z < zoomToGroupSize.length; z++) {
                const size = zoomToGroupSize[z] / zoomToGroupSize[z - 1];
                const nextCounts = new Uint32Array(Math.ceil(counts.length / size));
                for (let i = 0; i < counts.length; i++) {
                    const index = (i / size) | 0;
                    nextCounts[index] += counts[i];
                    max = Math.max(max, nextCounts[index]);
                }
                this.zoomToCounts[z] = counts = nextCounts;
                this.zoomToMaxes[z] = max;
            }

            this.data = null;
        }

        setZoom(zoom) {
            this.zoom = zoom;
        }

        heatmap() {
            return this.zoomToCounts[this.zoom];
        }

        max() {
            return this.zoomToMaxes[this.zoom];
        }

        currentTimeBlock() {
            // FIXME 20 is hardcoded
            return 20 * zoomToGroupSize[this.zoom];
        }

        startBlock() {
            const blockMs = this.currentTimeBlock();
            const timeBlockMs = blockMs * heatHeight * 20;
            return Math.floor(startMs % timeBlockMs / blockMs);
        }

        count() {
            return Math.ceil((this.heatmap().length + this.startBlock()) / 20 / heatHeight) * 20 * heatHeight;
        }

    }

    class LzChunk extends Uint32Array {
        constructor(size) {
            super(size);
        }

        copyWithNext(element) {
            let result = new LzChunk(this.length + 1);
            result.set(this);
            result[this.length] = element;
            return result;
        }
    }

    class Lz78Data {
        data;
        starts;
        lz78;

        tmp = [];
        prevSubTreeId = -1;

        constructor(data, starts) {
            this.data = data;
            this.starts = starts;

            this.lz78 = [new LzChunk(0)];
        }

        decode(counts) {
            const synonymsCount = this.data.nextVarInt();
            const synonyms = new Uint32Array(synonymsCount);
            for (let i = 0; i < synonymsCount; i++) {
                synonyms[i] = this.data.nextVarInt();
            }

            const tailsCount = this.data.nextVarInt();
            const tails = new Uint32Array(tailsCount);
            for (let i = 0; i < tailsCount; i++) {
                const tail = this.data.nextVarInt();
                tails[i] = (tail < synonyms.length ? synonyms[tail] : tail) - synonymsCount;
            }

            const result = new Array(counts.length);
            for (let i = 0; i < counts.length; i++) {
                result[i] = new Array(counts[i]);
            }

            let thisChunk = null;
            let currentTail = 0;
            const tmp = [];
            let t = -1;
            for (let block of result) {
                for (let i = 0; i < block.length; i++, currentTail++) {
                    t++;
                    const tailId = tails[currentTail];
                    if (tailId < this.lz78.length) {
                        const tail = this.lz78[tailId];
                        if (tail.length !== 0 && this.starts.has(tail[0])) {
                            console.log(t, 'only', tailId);
                            block[i] = tail;
                            continue;
                        }
                    }

                    if (thisChunk === null) {
                        const chunkId = this.data.nextVarInt();
                        const prevChunk = this.lz78[(chunkId < synonyms.length ? synonyms[chunkId] : chunkId) - synonymsCount];
                        const addMethodId = this.data.nextVarInt();
                        console.log(t, 'chunk', chunkId, addMethodId);
                        thisChunk = prevChunk.copyWithNext(addMethodId);
                        this.lz78.push(thisChunk);
                    }

                    tmp.length = 0;
                    tmp.push(...thisChunk); // FIXME it is ok to push as is, or even as lz78 index

                    while (true) {
                        const chunkId = this.data.nextVarInt();
                        const prevChunk = this.lz78[(chunkId < synonyms.length ? synonyms[chunkId] : chunkId) - synonymsCount];
                        const addMethodId = this.data.nextVarInt();
                        thisChunk = prevChunk.copyWithNext(addMethodId);
                        this.lz78.push(thisChunk);
                        console.log(t, 'chunk', chunkId, addMethodId);

                        if (this.starts.has(thisChunk[0])) {
                            console.log(t, 'starts', thisChunk[0]);
                            console.log(t, 'ends', tailId);
                            const tail = this.lz78[tailId];
                            tmp.push(...tail);
                            block[i] = new Uint32Array(tmp);
                            break;
                        } else {
                            tmp.push(...thisChunk);
                        }
                    }
                }
            }

            return result;
        }
    }

    class Queue {
        data = new Array(1024);
        first = 0;
        afterLast = 0;

        push(e) {
            let a = this.afterLast;
            let d = this.data;
            d[a++] = e;
            if (a >= this.data.length) {
                a = 0;
            }
            if (a === this.first) {
                let d2 = new Array(d.length * 2);
                let i = 0;
                for (let p = a; p < d.length; p++) {
                    d2[i++] = d[p];
                }
                for (let p = 0; p < a; p++) {
                    d2[i++] = d[p];
                }
                this.data = d2;
                this.first = 0;
                this.afterLast = i;
            } else {
                this.afterLast = a;
            }
        }

        shift() {
            let i = this.first;
            let r = this.data[i++];
            if (i >= this.data.length) {
                this.first = 0;
            } else {
                this.first = i;
            }
            return r;
        }

        size() {
            let r = this.afterLast - this.first;
            if (r < 0) {
                return r + this.data.length;
            }
            return r;
        }

        reset() {
            this.first = this.afterLast = 0;
        }
    }

    function claimHtml(id) {
        let e = document.getElementById(id);
        let r = e.innerHTML;
        e.remove();
        return r;
    }

    let sq = 5;
    let sqPx = sq;
    let sqScale = 1;
    const canvasScrollPadding = 200;
    let canvasTimeHeight = 12;
    let canvasTimeHeightPx = 12;
    let ticksPerSecond = 1000000000;
    let startMs = 1666826857554;

    const zoomToGroupSize = [
        1,              // 20 ms
        50,             // 1 s
        50 * 5,         // 5 s
        50 * 60         // 1 m
    ];
    const zoomToHeight = [50, 60, 60, 60]

    let methods = new DataBuffer(claimHtml("methods"));
    let executionsHeatmap = new HeatmapCollection(claimHtml("executionsHeatmap"));
    let cpool = ["all","","one.nio.server.SelectorThread","run","one.nio.net.Session","process","one.nio.http.HttpSession","processRead","processHttpBuffer","handleParsedRequest","ok.dht.test.kosnitskiy.server.HttpServerImpl","handleRequest","ch.qos.logback.classic.Logger","debug","filterAndLog_2","buildLoggingEventAndAppend","callAppenders","appendLoopOnAppenders","ch.qos.logback.core.spi.AppenderAttachableImpl","ch.qos.logback.core.UnsynchronizedAppenderBase","doAppend","ch.qos.logback.core.OutputStreamAppender","append","subAppend","ch.qos.logback.classic.spi.LoggingEvent","prepareForDeferredProcessing","getFormattedMessage","org.slf4j.helpers.MessageFormatter","arrayFormat","int[]","ch.qos.logback.core.FileAppender","writeOut","writeBytes","java.util.concurrent.locks.ReentrantLock","lock","java.util.concurrent.locks.ReentrantLock$Sync","java.util.concurrent.locks.AbstractQueuedSynchronizer","acquire","java.util.concurrent.locks.LockSupport","park","jdk.internal.misc.Unsafe","java.util.concurrent.locks.ReentrantLock$NonfairSync","masterHandle","getTargetClustersFromKey","com.google.common.hash.Murmur3_128HashFunction","newHasher","com.google.common.hash.Murmur3_128HashFunction$Murmur3_128Hasher","<init>","com.google.common.hash.AbstractStreamingHashFunction$AbstractStreamingHasher","java.lang.ClassLoader","loadClass","jdk.internal.loader.ClassLoaders$AppClassLoader","jdk.internal.loader.BuiltinClassLoader","loadClassOrNull","java.lang.Object","hash","makeHash","com.google.common.hash.HashCode","fromBytesNoCopy","startWorker","java.lang.Thread","java.util.concurrent.ThreadPoolExecutor$Worker","java.util.concurrent.ThreadPoolExecutor","runWorker","ok.dht.test.kosnitskiy.server.HttpServerImpl$1","ok.dht.test.kosnitskiy.server.HttpServerImpl$$Lambda$214.0x0000000800d82ff0","lambda$masterHandle$1","proxyRequest","java.net.http.HttpRequest","newBuilder","jdk.internal.net.http.HttpClientFacade","send","jdk.internal.net.http.HttpClientImpl","sendAsync","jdk.internal.net.http.HttpRequestImpl","retrieveProxy","jdk.internal.net.http.MultiExchange","responseAsync","java.util.concurrent.CompletableFuture","completeAsync","jdk.internal.net.http.HttpClientImpl$DelegatingExecutor","execute","java.util.concurrent.CompletableFuture$AsyncSupply","postComplete","java.util.concurrent.CompletableFuture$UniCompose","tryFire","jdk.internal.net.http.MultiExchange$$Lambda$238.0x0000000800d8b148","apply","lambda$responseAsync0$2","responseAsyncImpl","requestFilters","jdk.internal.net.http.AuthenticationFilter","request","getCache","java.lang.Class","jdk.internal.net.http.Exchange","responseAsyncImpl0","establishExchange","jdk.internal.net.http.ExchangeImpl","get","handle","uniHandleStage","uniHandle","jdk.internal.net.http.ExchangeImpl$$Lambda$256.0x0000000800d931f8","lambda$get$0","createExchangeImpl","createHttp1Exchange","jdk.internal.net.http.Http1Exchange","jdk.internal.net.http.HttpConnection","getConnection","jdk.internal.net.http.ConnectionPool","getPlainConnection","jdk.internal.net.http.PlainHttpConnection","jdk.internal.net.http.SocketTube","jdk.internal.net.http.SocketTube$InternalReadPublisher","jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription","jdk.internal.net.http.Http1AsyncReceiver","jdk.internal.net.http.Exchange$$Lambda$342.0x0000000800daefc0","lambda$responseAsyncImpl0$10","checkFor407","jdk.internal.net.http.Exchange$$Lambda$252.0x0000000800d88c90","lambda$responseAsyncImpl0$9","sendHeadersAsync","jdk.internal.net.http.Http1Response","<clinit>","connectAsync","jdk.internal.net.http.common.SequentialScheduler$SchedulableTask","jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask","jdk.internal.net.http.common.SequentialScheduler$TryEndDeferredCompleter","complete","jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask","jdk.internal.net.http.Http1AsyncReceiver$$Lambda$318.0x0000000800da9838","flush","handlePendingDelegate","jdk.internal.net.http.Http1Response$BodyReader","onSubscribe","jdk.internal.net.http.ResponseContent$FixedLengthBodyParser","jdk.internal.net.http.Http1Response$$Lambda$453.0x0000000800e04688","onFinished","closeOrReturnToCache","returnToPool","jdk.internal.net.http.Http1Response$Http1BodySubscriber","onComplete","jdk.internal.net.http.ResponseSubscribers$ByteArraySubscriber","java.util.concurrent.CompletableFuture$UniWhenComplete","uniWhenComplete","jdk.internal.net.http.ResponseSubscribers$$Lambda$463.0x0000000800e05f08","accept","jdk.internal.net.http.ResponseSubscribers","lambda$getBodyAsync$2","java.util.concurrent.CompletableFuture$UniApply","jdk.internal.net.http.MultiExchange$$Lambda$467.0x0000000800e065b0","lambda$responseAsync0$3","jdk.internal.net.http.HttpResponseImpl","filterAndLog_0_Or3Plus","registerTimer","jdk.internal.net.http.HttpClientImpl$SelectorManager","purgeTimeoutsAndReturnNextDeadline","filterAndLog_1","java.util.concurrent.ArrayBlockingQueue","offer","wakeupSelector","sun.nio.ch.EPollSelectorImpl","wakeup","checkRequestMore","jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber","requestMore","jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadSubscription","resumeReadEvent","resumeEvent","eventUpdated","register","jdk.internal.net.http.SocketTube$InternalWriteSubscriber$$Lambda$423.0x0000000800dbbdd8","jdk.internal.net.http.SocketTube$InternalWriteSubscriber","jdk.internal.net.http.SocketTube$InternalWriteSubscriber$WriteSubscription","registerCleanupTrigger","connectFlows","jdk.internal.net.http.ConnectionPool$CleanupTrigger","subscribe","dropSubscription","signalSubscribe","registerEvent","thenCompose","uniComposeStage","jdk.internal.net.http.Http1Exchange$$Lambda$395.0x0000000800db7438","lambda$sendHeadersAsync$4","purgeExpiredConnectionsAndReturnNextDeadline","signalOnSubscribe","handleSupported","jdk.internal.net.http.Http1Response$HeadersReader","tryAsyncReceive","jdk.internal.net.http.Http1Response$Receiver","java.util.concurrent.CompletableFuture$UniCompletion","claim","java.util.concurrent.CompletableFuture$Completion","postFire","java.util.concurrent.CompletableFuture$UniHandle","jdk.internal.net.http.MultiExchange$$Lambda$404.0x0000000800db8900","lambda$responseAsyncImpl$7","cancelTimer","jdk.internal.net.http.MultiExchange$$Lambda$402.0x0000000800db8470","lambda$responseAsyncImpl$6","responseFilters","response","jdk.internal.net.http.Http1Exchange$Http1Publisher$Http1WriteSubscription","jdk.internal.net.http.common.SequentialScheduler","runOrSchedule","jdk.internal.net.http.Http1Exchange$Http1Publisher$WriteTask","getOutgoing","jdk.internal.net.http.MultiExchange$$Lambda$241.0x0000000800d8b5c8","lambda$responseAsync0$4","readBodyAsync","readBody","jdk.internal.net.http.Http1Response$$Lambda$452.0x0000000800e04038","lambda$readBody$3","error","java.lang.invoke.MethodHandleNatives","linkCallSite","linkCallSiteImpl","java.lang.invoke.CallSite","makeSite","java.lang.invoke.BootstrapMethodInvoker","invoke","java.lang.invoke.Invokers$Holder","invokeExact_MT","java.lang.invoke.DelegatingMethodHandle$Holder","delegate","java.lang.invoke.DirectMethodHandle$Holder","invokeStatic","java.lang.invoke.StringConcatFactory","makeConcatWithConstants","generateMHInlineCopy","java.lang.invoke.MethodHandles","filterArgumentsWithCombiner","argumentsWithCombiner","java.lang.invoke.LambdaFormEditor","filterArgumentsForm","makeArgumentCombinationForm","newSpeciesData","java.lang.invoke.BoundMethodHandle$SpeciesData","extendWith","java.lang.invoke.ClassSpecializer","findSpecies","sendResponse","sun.nio.ch.SelectorImpl","select","lockAndDoSelect","doSelect","processEvents","clearInterrupt","jdk.internal.net.http.AuthenticationFilter$Cache","jdk.internal.net.http.AsyncTriggerEvent","jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription$$Lambda$295.0x0000000800da6000","handleSubscribeEvent","jdk.internal.net.http.SocketTube$SocketFlowTask","jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription$$Lambda$291.0x0000000800da3af0","read","readAvailable","sun.nio.ch.SocketChannelImpl","jdk.internal.net.http.Http1Exchange$Http1Publisher","jdk.internal.net.http.Http2ClientImpl","getConnectionFor","handleException","org.apache.commons.logging.impl.Log4JLogger","org.apache.log4j.Category","log","differentiatedLog",];

    let currentHeatmap = executionsHeatmap;
    let currentHeatmapType = 'executions';

    let heatHeight = 60;

    let heatLastSample = -1;
    let heatActiveSample1 = -1;
    let heatActiveSample2 = -1;
    let heatDiffStart = -1;
    let heatDiffEnd = -1;
    let highlightStart = -1;
    let highlightEnd = -1;

    const titleText = document.getElementById("title").textContent;
    document.getElementById("title").style.display = 'none';
    document.title = titleText;

    const heatCanvas = document.getElementById('heatmap-canvas');
    const heatStatus = document.getElementById('status');
    const heatCanvasWrapper = document.getElementById('heatmap-canvas-wrapper');
    const heatCanvasContainer = document.getElementById('heatmap-canvas-container');

    let heatC;
    let prevDx = -1000000000;

    let searchExecutedCount = 0;
    let searchMax = 0;

    const timeOptions = {
        year: '2-digit',
        month: '2-digit',
        day: '2-digit',
        timeZoneName: 'short',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        fractionalSecondDigits: 2
    };

    const timeOptionsShort = {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        fractionalSecondDigits: 2
    };

    const timeOptionsTiny = {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hourCycle: 'h23',
        //hour12: false
    };

    function methodInfo(methodIndex, out) {
        if (methodIndex === -1) {
            out.className = '';
            out.methodName = 'all';
            out.location = 0;
            out.type = 3;
            return;
        }

        methodIndex--;

        let methodAndClass = methods.int36(methodIndex * 12);
        let locationAndType = methods.int36(methodIndex * 12 + 6)
        let className = (methodAndClass & 0x3FFFF) - 1;
        let methodName = (methodAndClass >>> 18) - 1;

        out.className = cpool[className];
        out.methodName = cpool[methodName];
        out.location = locationAndType >>> 4;
        out.type = locationAndType & 15;
    }

    function title(methodIndex, out) {
        methodInfo(methodIndex, out);
        const codeLine = (out.location & 0xffff);
        let locationSuffix = codeLine === 0 ? "" : (":" + codeLine);

        if (out.methodName === '') {
            return out.className + locationSuffix;
        }
        if (out.className === '') {
            return out.methodName + locationSuffix;
        }
        if (out.type >= 3 && out.type <= 5) {
            return out.methodName + locationSuffix;
        }

        return out.className + "." + out.methodName + locationSuffix;
    }

    let bgInterval = null;
    let bgTasks = [];
    let cooldownTime = 0;
    let nextTask = 0;

    function addTask(id, iteration, afterFrame) {
        for (let t of bgTasks) {
            if (t.id === id) {
                t.f = iteration;
                t.a = afterFrame;
                return;
            }
        }

        bgTasks.push({id: id, f: iteration, a: afterFrame});
        if (bgTasks.length === 1) {
            bgInterval = setInterval(function() {
                let start = performance.now();
                if (start <= cooldownTime) {
                    return;
                }
                let overflow = false;
                do {
                    let task = bgTasks[nextTask];
                    if (task.f()) {
                        nextTask++;
                    } else {
                        bgTasks.splice(nextTask, 1);
                        if (bgTasks.length === 0) {
                            clearInterval(bgInterval);
                            nextTask = 0;
                            return;
                        }
                    }

                    if (nextTask >= bgTasks.length) {
                        nextTask = 0;
                        overflow = true;
                    }
                } while(performance.now() - start < 8);

                for (let q = 0; q < overflow ? bgTasks.length : nextTask; q++) {
                    bgTasks[q].a();
                }
            })
        }
    }

    function prepareFrames(from, to) {
        let mul = zoomToGroupSize[currentHeatmap.zoom];
        from *= mul;
        to = (to + 1) * mul - 1;
        if (to >= currentHeatmap.blocks.length) {
            to = currentHeatmap.blocks.length - 1;
        }

        const frames = new Queue();
        const root = new Map();
        root.c = 0;
        root.m = -1;
        root.x = 0;
        const roots = [root];
        let levelsCount = 1;

        for (let pos = from; pos <= to; pos++) {
            const block = currentHeatmap.blocks[pos];

            root.c += block.length;

            for (let stack of block) {
                levelsCount = Math.max(stack.length + 1, levelsCount);

                frames.push(root);
                frames.push(stack);
            }
        }

        return [frames, roots, levelsCount]
    }

    function nextFrames(frames, level) {
        frames.push(null);  // end stacks marker

        let nowFrame = null;

        while (true) {
            const frame = frames.shift();
            if (frame === null) {   // end stack marker
                break;
            }

            const stack = frames.shift();
            if (level >= stack.length) {
                continue;
            }

            const methodId = stack[level];
            nowFrame = frame.get(methodId);
            if (nowFrame === undefined) {
                nowFrame = new Map();
                nowFrame.m = methodId;
                nowFrame.c = 0;
                frame.set(methodId, nowFrame);
            }
            nowFrame.c++;

            frames.push(nowFrame);
            frames.push(stack);
        }
    }

    function renderTraces(from, to) {
        let [frames, roots, levelsCount] = prepareFrames(from, to);
        levels.length = 0;
        for (let i = 0; i < levelsCount; i++) {
            levels.push([]);
        }

        let currentLevel = 0;
        let levelToRedraw = 0;
        let methodInfoOut = {};

        addTask('flame', function () {
                nextFrames(frames, currentLevel);

                let level = levels[currentLevel];
                let nextRoots = [];
                for (let root of roots) {
                    let x = root.x;
                    const t = title(root.m, methodInfoOut);
                    let color = getColor(palette[methodInfoOut.type]);
                    level.push({left: x, width: root.c, color: color, title: t});

                    let nextFrames = [...root.values()];

                    nextFrames.sort((k1, k2) => k2.c - k1.c);
                    for (let frame of nextFrames) {
                        frame.x = x;
                        x += frame.c;
                        nextRoots.push(frame);
                    }
                }
                level.sort((k1, k2) => k1.left - k2.left);

                roots = nextRoots;
                currentLevel++;
                if (currentLevel < levelsCount) {
                    return true;
                }
                renderWithMatch(levelsCount * 16, levels[0][0], 0);
                return false;
            },
            function () {
                renderWithMatch(4096, levels[0][0], 0, levelToRedraw);
                levelToRedraw = currentLevel;
            });
    }

    function renderWithMatch(newCanvasHeight, root, level, minLevel) {
        newCanvasHeight = Math.min(32767, newCanvasHeight);
        if (canvasHeight !== newCanvasHeight) {
            canvasHeight = newCanvasHeight;
            canvas.style.height = canvasHeight + 'px';
            canvas.height = canvasHeight * (devicePixelRatio || 1);
            c = canvas.getContext('2d');
            if (devicePixelRatio) c.scale(devicePixelRatio, devicePixelRatio);
            c.font = document.body.style.font;
        }
        const matched = render(root, level, minLevel);
        if (pattern === undefined) {
            document.getElementById('match').style.display = 'none';
            document.getElementById('produced').style.display = 'inherit';
        } else {
            document.getElementById('matchval').textContent = pct(matched, root.width) + '%';
            document.getElementById('match').style.display = 'inline-block';
            document.getElementById('produced').style.display = 'none';
        }
    }

    function renderDiff(from, to, baseFrom, baseTo) {
        let [frames, roots, levelsCount] = prepareFrames(from, to);
        let [baseFrames, baseRoots, ] = prepareFrames(baseFrom, baseTo);
        roots[0].b = baseRoots[0];

        levels.length = 0;
        for (let i = 0; i < levelsCount; i++) {
            levels.push([]);
        }
        let currentLevel = 0;
        let levelToRedraw = 0;
        let methodInfoOut = {};

        let minDiff = 0;
        let maxDiff = 0;

        addTask('flame', function () {
                nextFrames(frames, currentLevel);
                nextFrames(baseFrames, currentLevel);
                let level = levels[currentLevel];

                for (let root of roots) {
                    let wasCount = root.b === undefined ? 0 : root.b.c;
                    if (wasCount !== 0) {
                        maxDiff = Math.max(maxDiff, root.c - wasCount);
                        minDiff = Math.min(minDiff, root.c - wasCount)
                    }
                }

                let nextRoots = [];
                for (let root of roots) {
                    let x = root.x;

                    let wasCount = root.b === undefined ? 0 : root.b.c;
                    const t = title(root.m, methodInfoOut) + " (" + root.c + "/" + wasCount +")";
                    let color;
                    if (wasCount === 0) {
                        color = "#dac571";
                    } else if (wasCount >= root.c) {
                        const ratio = (root.c - wasCount) / minDiff;
                        color = 'rgb(' + (245 - 90 * ratio) + ',' + (250 - 90 * ratio) + ',' + 255 +')';
                    } else {
                        const ratio = (root.c - wasCount) / maxDiff;
                        color = 'rgb(' + 255 + ',' + (245 - 180 * ratio) + ',' + (240 - 200 * ratio) +')';
                    }
                    level.push({left: x, width: root.c, color: color, title: t});

                    let nextFrames = [];
                    for (let [methodId, frame] of root) {
                        frame.b = root.b && root.b.get(methodId);
                        nextFrames.push(frame);
                    }
                    nextFrames.sort((k1, k2) => k2.c - k1.c);
                    for (let frame of nextFrames) {
                        frame.x = x;
                        x += frame.c;
                        nextRoots.push(frame);
                    }
                }
                level.sort((k1, k2) => k1.left - k2.left);

                roots = nextRoots;
                currentLevel++;
                if (currentLevel < levelsCount) {
                    return true;
                }
                renderWithMatch(levelsCount * 16, levels[0][0], 0);
                return false;
            },
            function () {
                renderWithMatch(4096, levels[0][0], 0, levelToRedraw);
                levelToRedraw = currentLevel;
            });
    }

    function redrawHeatSamplesImpl(from, to, dx) {
        const patternDraw = !!pattern;
        const startBlock = currentHeatmap.startBlock();

        const max = currentHeatmap.max();
        const heatmap = currentHeatmap.heatmap();

        for (let index = from; index <= to; index++) {
            let color;
            let i = index - startBlock;
            if (i < 0 || i >= heatmap.length) {
                color = '#ddd';
            } else {
                let count = heatmap[i];

                let useFound = patternDraw && searchExecutedCount > i;
                let maxValue = useFound ? searchMax : max;
                let value = useFound ? found[i] : count;
                let ratio = value / (maxValue || 1);

                if (useFound) {
                    if (ratio < 0.8) {
                        let value = Math.round(255 - ratio * 255 / 0.8);
                        color = 'rgb(' + value + ',' + value + ',255)';
                    } else {
                        let value = Math.round(255 - (ratio - 0.8) * 100 / 0.2);
                        color = 'rgb(0,0,' + value + ')';
                    }
                } else {
                    if (ratio < 0.8) {
                        let value = Math.round(255 - ratio * 255 / 0.8);
                        color = 'rgb(255,' + value + ',' + value + ')';
                    } else {
                        let value = Math.round(255 - (ratio - 0.8) * 100 / 0.2);
                        color = 'rgb('+ value + ',0,0)';
                    }
                }

            }
            heatC.fillStyle = color;

            let x = Math.floor(index / heatHeight);
            let y = index % heatHeight;
            heatC.fillRect(x * sq - dx, y * sq + canvasTimeHeight, sq, sq);
        }

        let blocksBetweenMarks = 20;

        let fromBlock = Math.floor(from / blocksBetweenMarks / heatHeight) - 1;
        let toBlock = Math.ceil(to / blocksBetweenMarks / heatHeight);

        let markPixels = blocksBetweenMarks * sq;

        heatC.fillStyle = '#fff';
        heatC.fillRect(
            fromBlock * markPixels - dx,
            0,
            (toBlock - fromBlock + 1) * markPixels,
            canvasTimeHeight
        );

        heatC.beginPath();
        heatC.moveTo(fromBlock * markPixels - dx + 0.5, canvasTimeHeight + 0.5);
        heatC.lineTo(toBlock * markPixels - dx + 0.5, canvasTimeHeight + 0.5);
        heatC.stroke();

        heatC.fillStyle = '#000';

        let groupSize = heatHeight;
        let oneBlockMs = currentHeatmap.currentTimeBlock();
        let oneGroupMs = oneBlockMs * groupSize;
        let oneMarkMs = oneGroupMs * blocksBetweenMarks;
        for (let markIndex = fromBlock; markIndex <= toBlock; markIndex++) {
            let origin = Math.floor(startMs / oneMarkMs) * oneMarkMs;
            let ms = origin + markIndex * oneMarkMs;
            let markOffset = markIndex * markPixels - dx;

            let title = new Date(ms).toLocaleTimeString(undefined, timeOptionsTiny);

            let w = heatC.measureText(title).width;
            let x = markOffset + (markPixels - w) / 2;
            heatC.fillText(title, x, canvasTimeHeight - 1, markPixels);

            heatC.beginPath();
            heatC.moveTo(markOffset + 0.5, canvasTimeHeight - 2 * sqScale + 0.5);
            heatC.lineTo(markOffset + 0.5, canvasTimeHeight + 2 * sqScale + 0.5);
            heatC.stroke();
        }
    }

    function redrawHeatSamples(from, to) {
        let dx = Math.floor((heatCanvasContainer.scrollLeft - canvasScrollPadding) * sqScale);

        from = Math.max(from, heatHeight * Math.floor(dx / sq));
        to = Math.min(to, heatHeight * Math.ceil((dx + heatCanvas.width) / sq));
        redrawHeatSamplesImpl(from, to, dx);
    }

    function redrawHeatMap() {
        redrawHeatSamples(0, (1 + currentHeatmap.count() / heatHeight | 0) * heatHeight);
    }

    function fillCanvasWithEvents(zoom) {
        searchExecutedCount = 0;
        searchMax = 0;

        addTask('search', function () {
            return false;
        }, function (){});

        currentHeatmap.setZoom(zoom);
        heatHeight = zoomToHeight[zoom];

        const m = devicePixelRatio || 1;
        sqScale = m;
        sqPx = 5;
        sq = Math.floor(sqPx * m);
        sqPx = sq / m;
        canvasTimeHeight = sq * 2 + 2;
        canvasTimeHeightPx = canvasTimeHeight / m;

        const widthPx = canvasScrollPadding + heatCanvasContainer.offsetWidth + canvasScrollPadding;
        const heightPx = sqPx * heatHeight + canvasTimeHeightPx;

        const heatWidthPx = Math.max(20, Math.ceil(currentHeatmap.count() / heatHeight)) * sqPx;
        heatCanvasWrapper.style.width = heatWidthPx + 'px';
        if (heatCanvasContainer.offsetWidth > heatWidthPx) {
            heatCanvasContainer.style.overflowX = 'hidden';
        } else {
            heatCanvasContainer.style.overflowX = 'scroll';
        }

        heatCanvas.width = Math.ceil(widthPx * m);
        heatCanvas.height = Math.ceil(heightPx * m);
        heatCanvas.style.width = widthPx + 'px';
        heatCanvas.style.height = heightPx + 'px';

        heatC = heatCanvas.getContext('2d');
        heatC.font = sq * 2 + 'px Verdana, sans-serif';
        heatC.lineWidth = 1;
        heatC.strokeStyle = '#000';

        document.getElementById('heatmap-height-line').textContent = [' 1 sec : 20 ms ',' 1 min : 1 sec ',' 5 min : 5 sec ',' 1 hr  : 1 min '][currentHeatmap.zoom];
        redrawHeatMap();
    }

    let found = new Uint32Array(0);

    function searchIterative(r) {
        if (r && (r = prompt('Enter regexp to search:', '')) === null) {
            return;
        }
        searchExecutedCount = 0;
        searchMax = 0;
        if (!r) {
            pattern = undefined;
            redrawHeatMap();
            addTask('search', function () {
                return false;
            }, function (){});
            return;
        }
        let renderFrom = 0;
        let heatmap = currentHeatmap.heatmap();
        let count = heatmap.length;
        found = new Uint32Array(count);
        let start = currentHeatmap.startBlock();
        function renderFunc() {
            redrawHeatSamples(start + renderFrom, start + searchExecutedCount - 1);
            renderFrom = searchExecutedCount;
        }
        pattern = r ? RegExp(r) : undefined;
        const matchedMethods = new Set();
        const methodOut = {};
        for (let index = methods.data.length / 12; index >= 0; index--) {
            if (pattern.test(title(index, methodOut))) {
                matchedMethods.add(index);
            }
        }

        let mul = zoomToGroupSize[currentHeatmap.zoom];

        addTask('search', function () {
            let amount = 0;
            const from = searchExecutedCount * mul;
            const to = (searchExecutedCount + 1) * mul;
            for (let i = from; i < to; i++) {
                const stacks = currentHeatmap.blocks[i];
                if (stacks === undefined) {
                    continue;
                }

                for (let stack of stacks) {
                    for (let methodIndex of stack) {
                        if (matchedMethods.has(methodIndex)) {
                            amount++;
                            break;
                        }
                    }
                }
            }

            if (searchMax < amount) {
                renderFrom = 0;
                searchMax = amount;
            }

            found[searchExecutedCount] = amount;
            searchExecutedCount++;
            if (searchExecutedCount >= count) {
                renderFunc();

                const matched = render(root, rootLevel);
                document.getElementById('matchval').textContent = pct(matched, root.width) + '%';
                document.getElementById('match').style.display = r ? 'inherit' : 'none';
                document.getElementById('produced').style.display = r ? 'none' : 'inherit';

                return false;
            }
            return true;
        }, renderFunc);

    }

    function renderHeatmap() {
        let dx = heatCanvasContainer.scrollLeft - canvasScrollPadding;
        heatCanvas.style.transform = 'translate(' + dx + 'px, 0px)';

        const width = Math.floor(heatCanvasContainer.offsetWidth / sq / (devicePixelRatio || 1));

        let z = 0;
        for (; z < zoomToGroupSize.length; z++) {
            if (currentHeatmap.blocks.length / (zoomToGroupSize[z] * zoomToHeight[z]) < width) {
                break;
            }
        }

        fillCanvasWithEvents(Math.min(z, currentHeatmap.maxZoom - 1));

        renderTraces(0, currentHeatmap.heatmap().length - 1);
    }

    heatCanvasContainer.addEventListener('scroll', function() {
        let dx = Math.floor((heatCanvasContainer.scrollLeft - canvasScrollPadding) * sqScale);
        let dxPx = dx / sqScale;
        heatCanvas.style.transform = 'translate(' + dxPx + 'px, 0px)';
        let delta = Math.abs(dx - prevDx);
        if (delta >= heatCanvas.width || searchExecutedCount !== 0) {
            redrawHeatMap();
        } else {
            heatC.drawImage(heatCanvas, prevDx - dx, 0);
            if (prevDx < dx) {
                let from = heatHeight * Math.floor((prevDx + heatCanvas.width) / sq);
                let to = heatHeight * Math.ceil((dx + heatCanvas.width) / sq);
                redrawHeatSamplesImpl(from, to, dx);
            } else {
                let from = heatHeight * Math.floor(dx / sq);
                let to = heatHeight * Math.ceil(prevDx / sq);
                redrawHeatSamplesImpl(from, to, dx);
            }
        }
        prevDx = dx;
        cooldownTime = performance.now() + 500;
    });

    document.getElementById('heatmap-height-line').onclick = function() {
        fillCanvasWithEvents((currentHeatmap.maxZoom + currentHeatmap.zoom - 1) % (currentHeatmap.maxZoom));
        highlightStart = highlightEnd = heatDiffStart = heatDiffEnd = heatActiveSample1 = heatActiveSample2 = -1;
        for (let suffix of ['Selection', 'Diff', 'Active']) {
            for (let prefix of ['left', 'leftMiddle', 'middle', 'rightMiddle', 'right']) {
                document.getElementById(prefix + suffix).style.display = 'none';
            }
        }
    }

    function callHighlightRedraw(start, end, suffix) {
        let left = document.getElementById('left' + suffix);
        let leftMiddle = document.getElementById('leftMiddle' + suffix);
        let middle = document.getElementById('middle' + suffix);
        let rightMiddle = document.getElementById('rightMiddle' + suffix);
        let right = document.getElementById('right' + suffix);

        let x1 = Math.floor(start / heatHeight);
        let y1 = start % heatHeight;
        let x2 = Math.floor(end / heatHeight);
        let y2 = end % heatHeight;

        let veryStartX = x1 * sqPx;
        let veryStartY = y1 * sqPx;
        let veryEndX = x2 * sqPx;
        let px = 1 / sqScale;
        let singleElementWidth = sqPx + px;

        let topPadding = canvasTimeHeightPx;

        if (x1 === x2) {
            left.style.display = 'none';
            right.style.display = 'none';

            for (let b of [middle, leftMiddle, rightMiddle]) {
                b.style.left = veryStartX + 'px';
                b.style.top = topPadding + veryStartY + 'px';
                b.style.width = singleElementWidth + 'px';
                b.style.height = (y2 - y1 + 1) * sqPx + px + 'px';
                b.style.display = 'block';
            }
        } else {
            left.style.left = veryStartX + 'px';
            left.style.top = topPadding + veryStartY + 'px';
            left.style.width = singleElementWidth + 'px';
            left.style.height = (heatHeight - y1) * sqPx + px + 'px';
            left.style.display = 'block';

            leftMiddle.style.left = veryStartX + 'px';
            leftMiddle.style.top = topPadding + 'px';
            leftMiddle.style.width = singleElementWidth + 'px';
            leftMiddle.style.height = y1 * sqPx + px + 'px';
            leftMiddle.style.display = 'block';

            rightMiddle.style.left = veryEndX + 'px';
            rightMiddle.style.top = topPadding + (y2 + 1) * sqPx + 'px';
            rightMiddle.style.width = sqPx + px + 'px';
            rightMiddle.style.height = (heatHeight - y2 - 1) * sqPx + px + 'px';
            rightMiddle.style.display = 'block';

            right.style.left = veryEndX + 'px';
            right.style.top = topPadding + 'px';
            right.style.width = sqPx + px + 'px';
            right.style.height = (y2 + 1) * sqPx + px + 'px';
            right.style.display = 'block';

            if (x2 - x1 === 1) {
                middle.style.display = 'none';
            } else {
                middle.style.left = veryStartX + sqPx + px + 'px';
                middle.style.top = topPadding + 'px';
                middle.style.width = (x2 - x1 - 1) * sqPx - px + 'px';
                middle.style.height = heatHeight * sqPx + px + 'px';
                middle.style.display = 'block';
            }
        }
    }

    function callSelectionRedraw(sample, shiftPressed, ctrlPressed) {
        if (ctrlPressed) {
            highlightStart = sample;
            highlightEnd = sample + Math.abs(heatActiveSample1 - heatActiveSample2);
        } else if (shiftPressed && heatActiveSample1 !== -1) {
            highlightStart = Math.min(heatActiveSample1, sample);
            highlightEnd = Math.max(heatActiveSample1, sample);
        } else {
            highlightStart = highlightEnd = sample;
        }

        callHighlightRedraw(highlightStart, highlightEnd, 'Selection');

        const index = sample - currentHeatmap.startBlock();
        const heatmap = currentHeatmap.heatmap();
        if (index >= 0 && index < heatmap.length) {
            const ms = startMs + currentHeatmap.currentTimeBlock() * index;
            const total =  heatmap[index];
            const max = currentHeatmap.max();
            heatCanvas.title = new Date(ms).toLocaleTimeString(undefined, timeOptionsShort) + " " + index;  // FIXME
            const totalText = "total: " + total + " (" + Math.floor(total / max * 100) + "%)";
            const searchText = searchExecutedCount > index
                ? "; match: " + found[index] + " (" + Math.floor(found[index] / Math.max(total, 1) * 100) + "%)"
                : "";
            status.textContent = totalText + searchText;
            status.style.display = 'inline';
        } else {
            status.style.display = 'none';
        }
    }

    function callActiveRedraw(sample, shiftPressed, ctrlPressed) {
        if (ctrlPressed) {
            let minSelected = Math.min(heatActiveSample1, heatActiveSample2);
            let maxSelected = Math.max(heatActiveSample1, heatActiveSample2);

            heatDiffStart = highlightStart;
            heatDiffEnd = highlightEnd;

            callHighlightRedraw(highlightStart, highlightEnd, 'Diff');
            renderDiff(
                minSelected - currentHeatmap.startBlock(),
                maxSelected - currentHeatmap.startBlock(),
                heatDiffStart - currentHeatmap.startBlock(),
                heatDiffEnd - currentHeatmap.startBlock()
            );
        } else {
            heatDiffStart = -1;
            heatDiffEnd = -1;
            if (shiftPressed && heatActiveSample1 !== -1) {
                heatActiveSample2 = sample;
            } else {
                heatActiveSample1 = heatActiveSample2 = sample;
            }

            let minSelected = Math.min(heatActiveSample1, heatActiveSample2);
            let maxSelected = Math.max(heatActiveSample1, heatActiveSample2);

            callHighlightRedraw(highlightStart, highlightEnd, 'Diff');
            callHighlightRedraw(minSelected, maxSelected, 'Active');
            renderTraces(
                Math.max(0, minSelected - currentHeatmap.startBlock()),
                Math.min(currentHeatmap.heatmap().length - 1, maxSelected - currentHeatmap.startBlock())
            );
        }
    }

    window.addEventListener('keydown', function (e) {
        if (e.key === 'Shift') {
            callSelectionRedraw(heatLastSample, true, e.ctrlKey);
        } else if (e.key === 'Control') {
            callSelectionRedraw(heatLastSample, e.shiftKey, true);
        }
    });

    window.addEventListener('keyup', function (e) {
        if (e.key === 'Shift') {
            callSelectionRedraw(heatLastSample, false, e.ctrlKey);
        } else if (e.key === 'Control') {
            callSelectionRedraw(heatLastSample, e.shiftKey, false);
        }
    });

    heatCanvas.onmousemove = function (event) {
        let x = Math.floor((event.offsetX + heatCanvasContainer.scrollLeft - canvasScrollPadding) / sqPx);
        let y = Math.floor(Math.max(0, event.offsetY - canvasTimeHeightPx) / sqPx);
        if (y >= heatHeight) {
            y = heatHeight - 1;
        }
        heatLastSample = x * heatHeight + y;
        if ((event.buttons & 1) === 1) {
            callSelectionRedraw(heatLastSample, true, event.ctrlKey);
        } else {
            callSelectionRedraw(heatLastSample, event.shiftKey, event.ctrlKey);
        }
    }

    heatCanvas.onmouseout = function () {
        status.style.display = 'none';
    };

    heatCanvas.onmousedown = function (event) {
        let x = Math.floor((event.offsetX + heatCanvasContainer.scrollLeft - canvasScrollPadding) / sqPx);
        let y = Math.floor(Math.max(0, event.offsetY - canvasTimeHeightPx) / sqPx);
        let sample = x * heatHeight + y;

        callActiveRedraw(sample, event.shiftKey, event.ctrlKey);
    };

    heatCanvas.onmouseup = function (event) {
        let x = Math.floor((event.offsetX + heatCanvasContainer.scrollLeft - canvasScrollPadding) / sqPx);
        let y = Math.floor(Math.max(0, event.offsetY - canvasTimeHeightPx) / sqPx);
        let sample = x * heatHeight + y;

        callActiveRedraw(sample, true, event.ctrlKey);
    };



init();
// FIXME search(/*highlight:*/);
</script></body></html>
